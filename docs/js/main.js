(()=>{var $e=Object.create;var de=Object.defineProperty;var Me=Object.getOwnPropertyDescriptor;var Be=Object.getOwnPropertyNames;var Pe=Object.getPrototypeOf,Fe=Object.prototype.hasOwnProperty;var a=(n,e)=>de(n,"name",{value:e,configurable:!0});var se=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports);var Oe=(n,e,t,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of Be(e))!Fe.call(n,o)&&o!==t&&de(n,o,{get:()=>e[o],enumerable:!(r=Me(e,o))||r.enumerable});return n};var Ie=(n,e,t)=>(t=n!=null?$e(Pe(n)):{},Oe(e||!n||!n.__esModule?de(t,"default",{value:n,enumerable:!0}):t,n));var Se=se((ot,ke)=>{"use strict";ke.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}});var pe=se((nt,Ne)=>{var I=Se(),Ee={};for(let n of Object.keys(I))Ee[I[n]]=n;var h={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};Ne.exports=h;for(let n of Object.keys(h)){if(!("channels"in h[n]))throw new Error("missing channels property: "+n);if(!("labels"in h[n]))throw new Error("missing channel labels property: "+n);if(h[n].labels.length!==h[n].channels)throw new Error("channel and label counts mismatch: "+n);let{channels:e,labels:t}=h[n];delete h[n].channels,delete h[n].labels,Object.defineProperty(h[n],"channels",{value:e}),Object.defineProperty(h[n],"labels",{value:t})}h.rgb.hsl=function(n){let e=n[0]/255,t=n[1]/255,r=n[2]/255,o=Math.min(e,t,r),s=Math.max(e,t,r),i=s-o,l,c;s===o?l=0:e===s?l=(t-r)/i:t===s?l=2+(r-e)/i:r===s&&(l=4+(e-t)/i),l=Math.min(l*60,360),l<0&&(l+=360);let u=(o+s)/2;return s===o?c=0:u<=.5?c=i/(s+o):c=i/(2-s-o),[l,c*100,u*100]};h.rgb.hsv=function(n){let e,t,r,o,s,i=n[0]/255,l=n[1]/255,c=n[2]/255,u=Math.max(i,l,c),p=u-Math.min(i,l,c),m=a(function(ne){return(u-ne)/6/p+1/2},"diffc");return p===0?(o=0,s=0):(s=p/u,e=m(i),t=m(l),r=m(c),i===u?o=r-t:l===u?o=1/3+e-r:c===u&&(o=2/3+t-e),o<0?o+=1:o>1&&(o-=1)),[o*360,s*100,u*100]};h.rgb.hwb=function(n){let e=n[0],t=n[1],r=n[2],o=h.rgb.hsl(n)[0],s=1/255*Math.min(e,Math.min(t,r));return r=1-1/255*Math.max(e,Math.max(t,r)),[o,s*100,r*100]};h.rgb.cmyk=function(n){let e=n[0]/255,t=n[1]/255,r=n[2]/255,o=Math.min(1-e,1-t,1-r),s=(1-e-o)/(1-o)||0,i=(1-t-o)/(1-o)||0,l=(1-r-o)/(1-o)||0;return[s*100,i*100,l*100,o*100]};function Ue(n,e){return(n[0]-e[0])**2+(n[1]-e[1])**2+(n[2]-e[2])**2}a(Ue,"comparativeDistance");h.rgb.keyword=function(n){let e=Ee[n];if(e)return e;let t=1/0,r;for(let o of Object.keys(I)){let s=I[o],i=Ue(n,s);i<t&&(t=i,r=o)}return r};h.keyword.rgb=function(n){return I[n]};h.rgb.xyz=function(n){let e=n[0]/255,t=n[1]/255,r=n[2]/255;e=e>.04045?((e+.055)/1.055)**2.4:e/12.92,t=t>.04045?((t+.055)/1.055)**2.4:t/12.92,r=r>.04045?((r+.055)/1.055)**2.4:r/12.92;let o=e*.4124+t*.3576+r*.1805,s=e*.2126+t*.7152+r*.0722,i=e*.0193+t*.1192+r*.9505;return[o*100,s*100,i*100]};h.rgb.lab=function(n){let e=h.rgb.xyz(n),t=e[0],r=e[1],o=e[2];t/=95.047,r/=100,o/=108.883,t=t>.008856?t**(1/3):7.787*t+16/116,r=r>.008856?r**(1/3):7.787*r+16/116,o=o>.008856?o**(1/3):7.787*o+16/116;let s=116*r-16,i=500*(t-r),l=200*(r-o);return[s,i,l]};h.hsl.rgb=function(n){let e=n[0]/360,t=n[1]/100,r=n[2]/100,o,s,i;if(t===0)return i=r*255,[i,i,i];r<.5?o=r*(1+t):o=r+t-r*t;let l=2*r-o,c=[0,0,0];for(let u=0;u<3;u++)s=e+1/3*-(u-1),s<0&&s++,s>1&&s--,6*s<1?i=l+(o-l)*6*s:2*s<1?i=o:3*s<2?i=l+(o-l)*(2/3-s)*6:i=l,c[u]=i*255;return c};h.hsl.hsv=function(n){let e=n[0],t=n[1]/100,r=n[2]/100,o=t,s=Math.max(r,.01);r*=2,t*=r<=1?r:2-r,o*=s<=1?s:2-s;let i=(r+t)/2,l=r===0?2*o/(s+o):2*t/(r+t);return[e,l*100,i*100]};h.hsv.rgb=function(n){let e=n[0]/60,t=n[1]/100,r=n[2]/100,o=Math.floor(e)%6,s=e-Math.floor(e),i=255*r*(1-t),l=255*r*(1-t*s),c=255*r*(1-t*(1-s));switch(r*=255,o){case 0:return[r,c,i];case 1:return[l,r,i];case 2:return[i,r,c];case 3:return[i,l,r];case 4:return[c,i,r];case 5:return[r,i,l]}};h.hsv.hsl=function(n){let e=n[0],t=n[1]/100,r=n[2]/100,o=Math.max(r,.01),s,i;i=(2-t)*r;let l=(2-t)*o;return s=t*o,s/=l<=1?l:2-l,s=s||0,i/=2,[e,s*100,i*100]};h.hwb.rgb=function(n){let e=n[0]/360,t=n[1]/100,r=n[2]/100,o=t+r,s;o>1&&(t/=o,r/=o);let i=Math.floor(6*e),l=1-r;s=6*e-i,i&1&&(s=1-s);let c=t+s*(l-t),u,p,m;switch(i){default:case 6:case 0:u=l,p=c,m=t;break;case 1:u=c,p=l,m=t;break;case 2:u=t,p=l,m=c;break;case 3:u=t,p=c,m=l;break;case 4:u=c,p=t,m=l;break;case 5:u=l,p=t,m=c;break}return[u*255,p*255,m*255]};h.cmyk.rgb=function(n){let e=n[0]/100,t=n[1]/100,r=n[2]/100,o=n[3]/100,s=1-Math.min(1,e*(1-o)+o),i=1-Math.min(1,t*(1-o)+o),l=1-Math.min(1,r*(1-o)+o);return[s*255,i*255,l*255]};h.xyz.rgb=function(n){let e=n[0]/100,t=n[1]/100,r=n[2]/100,o,s,i;return o=e*3.2406+t*-1.5372+r*-.4986,s=e*-.9689+t*1.8758+r*.0415,i=e*.0557+t*-.204+r*1.057,o=o>.0031308?1.055*o**(1/2.4)-.055:o*12.92,s=s>.0031308?1.055*s**(1/2.4)-.055:s*12.92,i=i>.0031308?1.055*i**(1/2.4)-.055:i*12.92,o=Math.min(Math.max(0,o),1),s=Math.min(Math.max(0,s),1),i=Math.min(Math.max(0,i),1),[o*255,s*255,i*255]};h.xyz.lab=function(n){let e=n[0],t=n[1],r=n[2];e/=95.047,t/=100,r/=108.883,e=e>.008856?e**(1/3):7.787*e+16/116,t=t>.008856?t**(1/3):7.787*t+16/116,r=r>.008856?r**(1/3):7.787*r+16/116;let o=116*t-16,s=500*(e-t),i=200*(t-r);return[o,s,i]};h.lab.xyz=function(n){let e=n[0],t=n[1],r=n[2],o,s,i;s=(e+16)/116,o=t/500+s,i=s-r/200;let l=s**3,c=o**3,u=i**3;return s=l>.008856?l:(s-16/116)/7.787,o=c>.008856?c:(o-16/116)/7.787,i=u>.008856?u:(i-16/116)/7.787,o*=95.047,s*=100,i*=108.883,[o,s,i]};h.lab.lch=function(n){let e=n[0],t=n[1],r=n[2],o;o=Math.atan2(r,t)*360/2/Math.PI,o<0&&(o+=360);let i=Math.sqrt(t*t+r*r);return[e,i,o]};h.lch.lab=function(n){let e=n[0],t=n[1],o=n[2]/360*2*Math.PI,s=t*Math.cos(o),i=t*Math.sin(o);return[e,s,i]};h.rgb.ansi16=function(n,e=null){let[t,r,o]=n,s=e===null?h.rgb.hsv(n)[2]:e;if(s=Math.round(s/50),s===0)return 30;let i=30+(Math.round(o/255)<<2|Math.round(r/255)<<1|Math.round(t/255));return s===2&&(i+=60),i};h.hsv.ansi16=function(n){return h.rgb.ansi16(h.hsv.rgb(n),n[2])};h.rgb.ansi256=function(n){let e=n[0],t=n[1],r=n[2];return e===t&&t===r?e<8?16:e>248?231:Math.round((e-8)/247*24)+232:16+36*Math.round(e/255*5)+6*Math.round(t/255*5)+Math.round(r/255*5)};h.ansi16.rgb=function(n){let e=n%10;if(e===0||e===7)return n>50&&(e+=3.5),e=e/10.5*255,[e,e,e];let t=(~~(n>50)+1)*.5,r=(e&1)*t*255,o=(e>>1&1)*t*255,s=(e>>2&1)*t*255;return[r,o,s]};h.ansi256.rgb=function(n){if(n>=232){let s=(n-232)*10+8;return[s,s,s]}n-=16;let e,t=Math.floor(n/36)/5*255,r=Math.floor((e=n%36)/6)/5*255,o=e%6/5*255;return[t,r,o]};h.rgb.hex=function(n){let t=(((Math.round(n[0])&255)<<16)+((Math.round(n[1])&255)<<8)+(Math.round(n[2])&255)).toString(16).toUpperCase();return"000000".substring(t.length)+t};h.hex.rgb=function(n){let e=n.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!e)return[0,0,0];let t=e[0];e[0].length===3&&(t=t.split("").map(l=>l+l).join(""));let r=parseInt(t,16),o=r>>16&255,s=r>>8&255,i=r&255;return[o,s,i]};h.rgb.hcg=function(n){let e=n[0]/255,t=n[1]/255,r=n[2]/255,o=Math.max(Math.max(e,t),r),s=Math.min(Math.min(e,t),r),i=o-s,l,c;return i<1?l=s/(1-i):l=0,i<=0?c=0:o===e?c=(t-r)/i%6:o===t?c=2+(r-e)/i:c=4+(e-t)/i,c/=6,c%=1,[c*360,i*100,l*100]};h.hsl.hcg=function(n){let e=n[1]/100,t=n[2]/100,r=t<.5?2*e*t:2*e*(1-t),o=0;return r<1&&(o=(t-.5*r)/(1-r)),[n[0],r*100,o*100]};h.hsv.hcg=function(n){let e=n[1]/100,t=n[2]/100,r=e*t,o=0;return r<1&&(o=(t-r)/(1-r)),[n[0],r*100,o*100]};h.hcg.rgb=function(n){let e=n[0]/360,t=n[1]/100,r=n[2]/100;if(t===0)return[r*255,r*255,r*255];let o=[0,0,0],s=e%1*6,i=s%1,l=1-i,c=0;switch(Math.floor(s)){case 0:o[0]=1,o[1]=i,o[2]=0;break;case 1:o[0]=l,o[1]=1,o[2]=0;break;case 2:o[0]=0,o[1]=1,o[2]=i;break;case 3:o[0]=0,o[1]=l,o[2]=1;break;case 4:o[0]=i,o[1]=0,o[2]=1;break;default:o[0]=1,o[1]=0,o[2]=l}return c=(1-t)*r,[(t*o[0]+c)*255,(t*o[1]+c)*255,(t*o[2]+c)*255]};h.hcg.hsv=function(n){let e=n[1]/100,t=n[2]/100,r=e+t*(1-e),o=0;return r>0&&(o=e/r),[n[0],o*100,r*100]};h.hcg.hsl=function(n){let e=n[1]/100,r=n[2]/100*(1-e)+.5*e,o=0;return r>0&&r<.5?o=e/(2*r):r>=.5&&r<1&&(o=e/(2*(1-r))),[n[0],o*100,r*100]};h.hcg.hwb=function(n){let e=n[1]/100,t=n[2]/100,r=e+t*(1-e);return[n[0],(r-e)*100,(1-r)*100]};h.hwb.hcg=function(n){let e=n[1]/100,r=1-n[2]/100,o=r-e,s=0;return o<1&&(s=(r-o)/(1-o)),[n[0],o*100,s*100]};h.apple.rgb=function(n){return[n[0]/65535*255,n[1]/65535*255,n[2]/65535*255]};h.rgb.apple=function(n){return[n[0]/255*65535,n[1]/255*65535,n[2]/255*65535]};h.gray.rgb=function(n){return[n[0]/100*255,n[0]/100*255,n[0]/100*255]};h.gray.hsl=function(n){return[0,0,n[0]]};h.gray.hsv=h.gray.hsl;h.gray.hwb=function(n){return[0,100,n[0]]};h.gray.cmyk=function(n){return[0,0,0,n[0]]};h.gray.lab=function(n){return[n[0],0,0]};h.gray.hex=function(n){let e=Math.round(n[0]/100*255)&255,r=((e<<16)+(e<<8)+e).toString(16).toUpperCase();return"000000".substring(r.length)+r};h.rgb.gray=function(n){return[(n[0]+n[1]+n[2])/3/255*100]}});var Le=se((it,Ae)=>{var ae=pe();function De(){let n={},e=Object.keys(ae);for(let t=e.length,r=0;r<t;r++)n[e[r]]={distance:-1,parent:null};return n}a(De,"buildGraph");function He(n){let e=De(),t=[n];for(e[n].distance=0;t.length;){let r=t.pop(),o=Object.keys(ae[r]);for(let s=o.length,i=0;i<s;i++){let l=o[i],c=e[l];c.distance===-1&&(c.distance=e[r].distance+1,c.parent=r,t.unshift(l))}}return e}a(He,"deriveBFS");function je(n,e){return function(t){return e(n(t))}}a(je,"link");function ze(n,e){let t=[e[n].parent,n],r=ae[e[n].parent][n],o=e[n].parent;for(;e[o].parent;)t.unshift(e[o].parent),r=je(ae[e[o].parent][o],r),o=e[o].parent;return r.conversion=t,r}a(ze,"wrapConversion");Ae.exports=function(n){let e=He(n),t={},r=Object.keys(e);for(let o=r.length,s=0;s<o;s++){let i=r[s];e[i].parent!==null&&(t[i]=ze(i,e))}return t}});var qe=se((lt,_e)=>{var ge=pe(),Re=Le(),_={},Ge=Object.keys(ge);function Te(n){let e=a(function(...t){let r=t[0];return r==null?r:(r.length>1&&(t=r),n(t))},"wrappedFn");return"conversion"in n&&(e.conversion=n.conversion),e}a(Te,"wrapRaw");function We(n){let e=a(function(...t){let r=t[0];if(r==null)return r;r.length>1&&(t=r);let o=n(t);if(typeof o=="object")for(let s=o.length,i=0;i<s;i++)o[i]=Math.round(o[i]);return o},"wrappedFn");return"conversion"in n&&(e.conversion=n.conversion),e}a(We,"wrapRounded");Ge.forEach(n=>{_[n]={},Object.defineProperty(_[n],"channels",{value:ge[n].channels}),Object.defineProperty(_[n],"labels",{value:ge[n].labels});let e=Re(n);Object.keys(e).forEach(r=>{let o=e[r];_[n][r]=We(o),_[n][r].raw=Te(o)})});_e.exports=_});var F=class{static{a(this,"Logger")}static forPrefix(e){return e?new me(e):new ie}log(){throw"Subclass must implement"}info(...e){this.log("info",...e)}warn(...e){this.log("warn",...e)}},ie=class extends F{static{a(this,"BufferedLogger")}constructor(){super(),this.messages=[]}log(...e){this.messages.push(e)}},me=class extends F{static{a(this,"PrefixedLogger")}constructor(e){super(),this.prefix=e===!0?"debug":e}dump(e){e instanceof ie&&e.messages.forEach(t=>{this.log(...t)})}log(e,...t){if(typeof t[0]=="string"){let r=`[prefix:${this.prefix}]:${t[0]}`;console[e](r,...t.slice(1))}else console[e](this.prefix,...t)}},fe=F;var O=class n{static{a(this,"RichString")}static fromString(e){return e instanceof n?e:e?new n(String(e)):null}constructor(e){if(typeof e!="string")throw`You may only construct a RichString with a String, not a ${typeof e}`;this.string=e}capitalize(){return new n(this.string.charAt(0).toUpperCase()+this.string.slice(1))}decapitalize(){return new n(this.string.charAt(0).toLowerCase()+this.string.slice(1))}camelize(){return n.fromString(this.string.replace(/[_.-](\w|$)/g,function(e,t){return t.toUpperCase()}))}humanize(){return this.decamlize({spacer:" "}).capitalize()}decamlize({spacer:e="_"}={}){if(this.string.length<2)return new n(this.string.toLowerCase());let t=`$1${e}$2`,r=this.string.replace(/([\p{Lowercase_Letter}\d])(\p{Uppercase_Letter})/gu,t);return new n(r.replace(/(\p{Uppercase_Letter})(\p{Uppercase_Letter}\p{Lowercase_Letter}+)/gu,t).toLowerCase())}toString(){return this.string}toStringOrNull(){return this.string.trim()==""?null:this.string}};var d=class extends HTMLElement{static{a(this,"BaseCustomElement")}constructor(){super(),this.logger=fe.forPrefix(null)}static define(){if(!this.tagName)throw"To use BaseCustomElement, you must define the static member tagName to return your custom tag's name";customElements.define(this.tagName,this)}showWarningsChangedCallback({oldValue:e,newValue:t}){let r;!e&&t&&(r=this.logger);let o=t==""?this.id:t;this.logger=fe.forPrefix(o),r&&this.logger.dump(r)}attributeChangedCallback(e,t,r){let o=`${new O(e).camelize()}ChangedCallback`;this[o]?this[o]({oldValue:t,newValue:r}):this.constructor.observedAttributes.indexOf(e)!=-1&&console.warn("Observing %s but no method named %s was found to handle it",e,o),this.__render()}disconnectedCallback(){this.__disconnected=!0,this.__connected=!1,this.onDisconnected&&this.onDisconnected()}connectedCallback(){this.__connected=!0,this.__disconnected=!1,this.onConnected&&this.onConnected(),this.__render()}get isConnected(){return!!this.__connected}__render(){this.__disconnected||this.render&&this.render()}};var D=Ie(qe());var U=class extends Error{static{a(this,"NotValidHexCode")}constructor(e){super(`'${e}' is not a vaid hex code`)}};var be=class n{static{a(this,"Color")}static HEX_REGEXP=new RegExp("^(#)?([a-fA-F0-9]{6})$");static fromHexCode(e,{onError:t="throw"}={}){if(e)try{return new n(e)}catch(r){if(r instanceof Error&&t=="return")return null;throw r}else return null}static fromHSL(e,t,r){return new n(D.default.hsl.hex(e,t,r))}static fromRGB(e,t,r){return new n(D.default.rgb.hex(parseInt(e),parseInt(t),parseInt(r)))}static random(){return n.fromRGB(Math.floor(Math.random()*256),Math.floor(Math.random()*256),Math.floor(Math.random()*256))}constructor(e){if(!e)throw new TypeError("Color must be given a hex code");let t=e.match(n.HEX_REGEXP);if(!t)throw new U(e);let[r,o,s]=t;this.hex=`#${s}`.toUpperCase()}luminance(){let[e,t,r]=D.default.hex.rgb(this.hex),o=e/255,s=t/255,i=r/255,l=o<.04045?o/12.92:Math.pow((o+.055)/1.055,2.4),c=s<.04045?s/12.92:Math.pow((s+.055)/1.055,2.4),u=i<.04045?i/12.92:Math.pow((i+.055)/1.055,2.4);return .2126*l+.7152*c+.0722*u}contrast(e){let t=this.luminance(),r=e.luminance();if(t<r){let o=t;t=r,r=o}return(t+.05)/(r+.05)}hsl(){return D.default.hex.hsl.raw(this.hex)}hexCode(){return this.hex}},g=be;var b=class extends d{static{a(this,"ColorNameComponent")}static tagName="g-color-name";static observedAttributes=["color-swatch","show-warnings"];static NAMES_BASED_ON_HUE=[["Red",[0,21]],["Orange",[21,41]],["Yellow",[41,74]],["Green",[74,167]],["Blue",[167,259]],["Purple",[259,333]],["Red",[333,360]]];constructor(){super(),this.updateNameEventListener=()=>{this.render()},this.inputChangeListener=e=>{let t=e.target.value;t&&String(t).trim()!=""?(e.target.dataset.userOverride=!0,this.dispatchEvent(new CustomEvent("name-change",{cancelable:!1,bubbles:!0}))):(delete e.target.dataset.userOverride,this.dispatchEvent(new CustomEvent("name-cleared",{cancelable:!1,bubbles:!0}))),this.render()}}onDisconnected(){this.colorSwatch&&this.colorSwatch.removeEventListener("hex-code-change",this.updateNameEventListener),this.input&&this.input.removeEventListener("change",this.inputChangeListener)}colorSwatchChangedCallback({newValue:e}){let t=document.getElementById(e);t!=this.colorSwatch&&(this.colorSwatch&&this.colorSwatch.removeEventListener("hex-code-change",this.updateNameEventListener),t&&(this.updateNameEventListener.id=`listener-${this.id}`,t.addEventListener("hex-code-change",this.updateNameEventListener))),this.colorSwatch=t}_input(){let e=this.querySelectorAll("input[type=text]");return e.length>1&&this.logger.warn("There is more than one input - only the first one found will be used"),e[0]}render(){let e=this._input();this.input!=e&&(this.input&&this.input.removeEventListener("change",this.inputChangeListener),e&&e.addEventListener("change",this.inputChangeListener),this.input=e),e&&!e.dataset.userOverride&&this.colorSwatch&&this.colorSwatch.hexCode&&(e.value=this._name(this.colorSwatch.hexCode))}get name(){let e=this._input();return e?e.value:null}get userOverride(){let e=this._input();return e?e.dataset.userOverride:!1}overrideColorName(e){let t=this._input();t&&(t.dataset.userOverride=!0,t.value=e)}restoreDefaultColorName(){let e=this._input();e&&(delete e.dataset.userOverride,e.value="",this.render())}_name(e){let[t,r,o]=g.fromHexCode(e).hsl();if(isNaN(t)||r==0)return"Gray";let s=this.constructor.NAMES_BASED_ON_HUE.find(([i,[l,c]])=>{if(t>=l&&t<=c)return!0});if(!s)throw`Something is wrong: ${e}'s hue of '${t}' was not in namesBasedOnHue`;return s[0]}};var f=class{static{a(this,"BaseDerivation")}hsl(e){return g.fromHexCode(e).hsl()}hexCode(e,t,r){return g.fromHSL(e,t,r).hexCode()}};var H=class extends f{static{a(this,"BrightnessDerivation")}derive(e,t={}){return t.darken&&!isNaN(t.darken)?this.darken(e,t.darken):t.brighten&&!isNaN(t.brighten)?this.brighten(e,t.brighten):e}darken(e,t){let[r,o,s]=this.hsl(e),i=s,l=t/100,c=i*l,u=s-c;return this.hexCode(r,o,u)}brighten(e,t){let[r,o,s]=this.hsl(e),i=100-s,l=t/100,c=i*l,u=s+c;return this.hexCode(r,o,u)}};var S=class extends f{static{a(this,"ComplementaryDerivation")}derive(e,t={}){let[r,o,s]=this.hsl(e),i=(r+180)%360;return this.hexCode(i,o,s)}get humanName(){return"Complement"}};var q=class extends f{static{a(this,"AnalogousUpperDerivation")}derive(e,t={}){let[r,o,s]=this.hsl(e),i=(r+330)%360;return this.hexCode(i,o,s)}get humanName(){return"Analogous"}},$=class extends f{static{a(this,"AnalogousLowerDerivation")}derive(e,t={}){let[r,o,s]=this.hsl(e),i=(r+30)%360;return this.hexCode(i,o,s)}get humanName(){return"Analogous"}};var le=class extends f{static{a(this,"SplitComplementaryUpperDerivation")}constructor(){super(),this.complementary=new S,this.analogousUpper=new q}derive(e,t={}){return this.analogousUpper.derive(this.complementary.derive(e))}get humanName(){return"Split Complement"}},ce=class extends f{static{a(this,"SplitComplementaryLowerDerivation")}constructor(){super(),this.complementary=new S,this.analogousLower=new $}derive(e,t={}){return this.analogousLower.derive(this.complementary.derive(e))}get humanName(){return"Split Complement"}};var he=class extends f{static{a(this,"TriadUpperDerivation")}derive(e,t={}){let[r,o,s]=this.hsl(e),i=(r+120)%360;return this.hexCode(i,o,s)}get humanName(){return"Triad"}},ue=class extends f{static{a(this,"TriadLowerDerivation")}derive(e,t={}){let[r,o,s]=this.hsl(e),i=(r+240)%360;return this.hexCode(i,o,s)}get humanName(){return"Triad"}};var M=class n{static{a(this,"DerivationAlgorithm")}static fromString(e,{throwOnUnknown:t=!1}={}){if(e instanceof n)return e;if(e=="brightness")return new H;if(e=="complement")return new S;if(e=="split-complement-lower")return new ce;if(e=="split-complement-upper")return new le;if(e=="analogous-lower")return new $;if(e=="analogous-upper")return new q;if(e=="triad-lower")return new ue;if(e=="triad-upper")return new he;if(t)throw`No such DerivationAlgorithm '${e}'`;return null}};var y=class extends d{static{a(this,"ColorSwatchComponent")}static tagName="g-color-swatch";static observedAttributes=["hex-code","derived-from","derivation-algorithm","darken-by","brighten-by","show-warnings","default-link-context"];constructor(){super(),this.onInputChangeCallback=e=>{this.setAttribute("hex-code",e.target.value)},this.onDerivedElementChangeCallback=e=>{e.target!=this.derivedFromElement&&this.logger.warn("Got an event from not our derived"),this._deriveHexCodeFromSwatch(e.target)},this.derivationAlgorithm=M.fromString("brightness",{throwOnUnknown:!0})}hexCodeChangedCallback({newValue:e}){this.hexCode=e,this._dispatchHexcodeChanged()}derivedFromChangedCallback({newValue:e}){this.derivedFromElement&&this.derivedFromElement.removeEventListener(this.hexCodeChangedEventName,this.onDerivedElementChangeCallback),this.derivedFromId=e}defaultLinkContextChangedCallback({newValue:e}){this.defaultLinkContext=e}darkenByChangedCallback({newValue:e}){this.darkenBy=e,this._updateDerivationifNeeded({whenHexCodeExists:!0})}brightenByChangedCallback({newValue:e}){this.brightenBy=e,this._updateDerivationifNeeded({whenHexCodeExists:!0})}derivationAlgorithmChangedCallback({newValue:e}){this.derivationAlgorithm=M.fromString(e),this.derivationAlgorithm?this._updateDerivationifNeeded({whenHexCodeExists:!0}):e&&this.logger.warn("derivation-algorithm '%s' is not valid",e)}_eachInput(e){let t=this.querySelectorAll("input");return t.forEach(e),t.length}_eachDataColor(e){let t=this.querySelectorAll("[data-color]");return t.forEach(e),t.length}_eachCodeElementInsideRelevantLabel(e){this.querySelectorAll("label").forEach(t=>{let r;if(t.htmlFor?r=this.querySelector(`[id=${t.htmlFor}][type=color]`):r=t.querySelector("input[type=color]"),r){let o=t.querySelector("code");o||(o=document.createElement("code"),t.appendChild(o)),e(o)}else this.logger.warn("Orphaned label inside the element does not wrap nor reference a color input inside the element: %o",t)}),this.querySelectorAll("[data-hexcode]").forEach(t=>{let r=t.querySelector("code");r||(r=document.createElement("code"),t.appendChild(r)),e(r)})}render(){let e=this._eachInput(r=>{r.value=this.hexCode,r.addEventListener("change",this.onInputChangeCallback),r.getAttributeNames().indexOf("disabled")!=-1||this.derivedFromId&&this.logger.warn("derived-from-id is set, but an enabled input was detected: %o",r)});this._eachDataColor(r=>{r.style.backgroundColor=this.hexCode})==0&&e==0&&this.logger.warn("There were no <input type=color> nor [data-color] elements found"),this._eachLinkContext(r=>{this.defaultLinkContext?r.textContent=this.defaultLinkContext:r.innerHTML="&nbsp;"}),this.derivedFromId&&this._updateDerivationifNeeded({whenHexCodeExists:!1}),this.hexCode?this._eachCodeElementInsideRelevantLabel(r=>{r.textContent=this.hexCode}):this._eachCodeElementInsideRelevantLabel(r=>{r.textContent=""})}_deriveHexCodeFromSwatch(e){let t=e.hexCode;t?this._deriveHexCodeFrom(t):(this.logger.warn("No hexcode on the derived element: %o",event.target),this.removeAttribute("hex-code"))}_deriveHexCodeFrom(e){let t=this.darkenBy?parseInt(this.darkenBy):null,r=this.brightenBy?parseInt(this.brightenBy):null;this.derivationAlgorithm&&(e=this.derivationAlgorithm.derive(e,{darken:t,brighten:r})),this.setAttribute("hex-code",e)}_eachLinkContext(e){this.querySelectorAll("[data-link-context]").forEach(e)}get derivedFromElement(){return document.getElementById(this.derivedFromId)}_updateDerivationifNeeded({whenHexCodeExists:e}){let t=this.derivedFromElement,r=!!this.hexCode;t&&(t.tagName.toLowerCase()==this.constructor.tagName?(t.addEventListener(this.hexCodeChangedEventName,this.onDerivedElementChangeCallback),t.hexCode&&e==r&&this._deriveHexCodeFrom(t.hexCode),this._eachLinkContext(o=>o.textContent=this.derivationAlgorithm.humanName)):this.logger.warn("Derived element has id '%s', but this is a %s, not a %s",this.derivedFromId,t.tagName,this.constructor.tagName))}get hexCodeChangedEventName(){return"hex-code-change"}_dispatchHexcodeChanged(){this.dispatchEvent(new CustomEvent(this.hexCodeChangedEventName,{cancelable:!1,bubbles:!0}))}get forTesting(){return{dispatchHexCodeChanged:()=>{this._dispatchHexcodeChanged()}}}};var x=class{static{a(this,"BaseGradient")}get isFallback(){return!1}valueFor(){throw"Subclass must implement"}};var j=class extends x{static{a(this,"LinearGradient")}valueFor(e,t){let r=(t-1)/2;if(e<r){let o=e,s=r,i=40,l=80,c=o/(s-1);return isNaN(c)&&(c=0),["darken-by",Math.floor(l-c*(l-i))]}else{let o=t-1-e,s=r,i=30,l=90,c=o/(s-1);return isNaN(c)&&(c=0),["brighten-by",Math.floor(l-c*(l-i))]}}};var z=class extends x{static{a(this,"ExponentialGradient")}valueFor(e,t){let r=(t-1)/2,o=e+1,s=r+1,l=(o-s)/s,c=this._quarticBabyYeah(l);return e<r?["darken-by",-1*c]:["brighten-by",c]}_quarticBabyYeah(e){return 4.0692+175.3016*e+51.8788*Math.pow(e,2)+-92.4444*Math.pow(e,3)+-93.0909*Math.pow(e,4)}};var R=class extends x{static{a(this,"NoGradient")}get isFallback(){return!0}valueFor(){return[]}};var G=class{static{a(this,"ColorScale")}static fromString(e){return e=="linear"?new j:e=="exponential"?new z:new R}};var T=class{static{a(this,"SpecialButtons")}constructor(e,t,r){this.parentElement=e,this.selector=t,this.clickListener=r}enable(){this.forEach(e=>e.removeAttribute("disabled"))}disable(){this.forEach(e=>e.setAttribute("disabled",!0))}addEventListeners(){this.forEach(e=>e.addEventListener("click",this.clickListener))}forEach(e){return this.parentElement.querySelectorAll(this.selector).forEach(e)}dispatchEvent(e,t){return this.parentElement.dispatchEvent(new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:t}))}},Ce=class extends T{static{a(this,"PreviewButtons")}constructor(e){super(e,"[data-preview]",()=>{let t={colorName:e.colorName,colorNameUserOverride:e.colorNameUserOverride,colorScale:e.colorScale,baseColor:e.baseColorSwatch.hexCode};this.dispatchEvent("preview-scale",t)})}},ve=class extends T{static{a(this,"UnlinkButtons")}constructor(e){super(e,"[data-unlink]",()=>{e.removeAttribute("linked-to-primary"),e.baseColorSwatch&&(e.baseColorSwatch.removeAttribute("derived-from"),e.baseColorSwatch.removeAttribute("derivation-algorithm"),e.baseColorSwatch.querySelectorAll("input[type=color][disabled]").forEach(t=>{t.removeAttribute("disabled")})),this.dispatchEvent("unlink-from-primary")})}},we=class extends T{static{a(this,"RemoveButtons")}constructor(e){super(e,"[data-remove]",()=>{e.parentElement.removeChild(e),this.dispatchEvent("remove-scale")})}},C=class extends d{static{a(this,"PaletteColorComponent")}static tagName="g-palette-color-scale";static observedAttributes=["primary","linked-to-primary","scale-algorithm","show-warnings"];constructor(){super(),this.previewButtons=new Ce(this),this.unlinkButtons=new ve(this),this.removeButtons=new we(this),this.baseColorChangedEventHandler=e=>{this.linkedPrimaryAlgorithm||this.dispatchEvent(new CustomEvent("base-color-changed",{cancelable:!1,bubbles:!0}))}}primaryChangedCallback({newValue:e}){this.isPrimary=String(e)==="",e!=""&&e!=null&&this.logger.warn("primary should either be present or omitted, not '%s'",e)}linkedToPrimaryChangedCallback({newValue:e}){this.linkedPrimaryAlgorithm=e}scaleAlgorithmChangedCallback({newValue:e}){this.scaleAlgorithm=e}render(){this._configureButtons(),this._configureLink(),this._configureScale()}get swatches(){return this.querySelectorAll(y.tagName)}get baseColorSwatch(){let e=(this.swatches.length-1)/2;return this.swatches[e]}_configureScale(){let e=this.baseColorSwatch.id;e||(e=`${y.tagName}-${crypto.randomUUID()}-generated`,this.baseColorSwatch.id=e),this.linkedPrimaryElement&&(this.linkedPrimaryElement.baseColorSwatch?(this.baseColorSwatch.setAttribute("derived-from",this.linkedPrimaryElement.baseColorSwatch.id),this.linkedPrimaryAlgorithm&&this.baseColorSwatch.setAttribute("derivation-algorithm",this.linkedPrimaryAlgorithm)):this.logger.warn("Linked g-palette-color-scale (%s) has no base color, so we cannot link to it",this.linkedPrimaryElement.id));let t=G.fromString(this.scaleAlgorithm);t.isFallback&&this.scaleAlgorithm&&this.logger.warn(`No such algorithm for derive-color-scale '${this.scaleAlgorithm}'`),this.swatches.forEach((r,o,s)=>{if(r!=this.baseColorSwatch){r.getAttribute("derived-from")||r.setAttribute("derived-from",e),r.getAttribute("derivation-algorithm")||r.setAttribute("derivation-algorithm","brightness");let[i,l]=t.valueFor(o,s.length);i&&!r.getAttribute(i)&&r.setAttribute(i,`${Math.floor(l)}%`)}}),this.baseColorSwatch.addEventListener("hex-code-change",this.baseColorChangedEventHandler)}_configureButtons(){this.isPrimary?(this.previewButtons.enable(),this.unlinkButtons.disable(),this.removeButtons.disable()):this.linkedPrimaryAlgorithm?(this.previewButtons.enable(),this.unlinkButtons.enable(),this.removeButtons.enable()):(this.previewButtons.enable(),this.unlinkButtons.disable(),this.removeButtons.enable()),this.previewButtons.addEventListeners(),this.unlinkButtons.addEventListeners(),this.removeButtons.addEventListeners()}_configureLink(){this.linkedPrimaryAlgorithm&&(this.linkedPrimaryElement=this.parentElement?this.parentElement.querySelector(`${this.constructor.tagName}[primary]`):null,this.linkedPrimaryElement||(this.parentElement?this.logger.warn("linked-to-primary had a value ('%s') but no sibling is marked as primary",this.linkedPrimaryAlgorithm):this.logger.warn("linked-to-primary had a value ('%s') but we have no parent element",this.linkedPrimaryAlgorithm)))}get colorName(){let e=this.querySelector(b.tagName);return e?e.name:null}overrideColorName(e){let t=this.querySelector(b.tagName);t&&t.overrideColorName(e)}restoreDefaultColorName(){let e=this.querySelector(b.tagName);e&&e.restoreDefaultColorName()}get colorNameUserOverride(){let e=this.querySelector(b.tagName);return e&&e.userOverride}get colorScale(){return Array.from(this.querySelectorAll(y.tagName)).map(e=>e.hexCode)}};var W=class extends d{static{a(this,"AddColorScaleButtonComponent")}static tagName="g-add-color-scale-button";static observedAttributes=["link-algorithm","palette","show-warnings"];constructor(){super(),this.addScaleClickListener=e=>{e.preventDefault(),this.addColorScales()}}linkAlgorithmChangedCallback({newValue:e}){this.algorithmName=e}paletteChangedCallback({newValue:e}){this.paletteId=e}get palette(){let e;if(this.paletteId)e=document.getElementById(this.paletteId),e?e.tagName.toLowerCase()!="g-palette"&&this.logger.warn("Element with id '%s' is not a g-palette, but a %s",this.paletteId,e.tagName):this.isConnected&&this.logger.warn("No element with id '%s' found in document",this.paletteId);else{let t=document.querySelectorAll("g-palette");t.length>1&&this.logger.warn("More than one g-palette found in document - behavior is not defined in this case"),e=t[0]}return e}render(){let e=this.querySelectorAll("button");e.length==0&&this.logger.warn("No <button> elements found within - this won't do anythning"),e.forEach(t=>{t.addEventListener("click",this.addScaleClickListener)})}static nameToAlgo={complement:["complement"],"split-complement":["split-complement-lower","split-complement-upper"],analogous:["analogous-lower","analogous-upper"],triad:["triad-lower","triad-upper"]};addColorScales(){if(this.palette)if(this.algorithmName){let e=this.constructor.nameToAlgo[this.algorithmName];e?e.forEach(t=>{this.palette.addScale({linkAlgorithm:t})}):this.logger.warn(`No such algorithm ${this.algorithmName}`)}else this.palette.addScale({hexCode:g.random().hexCode()})}};var k=class extends d{static{a(this,"AttributeCheckboxComponent")}static tagName="g-attribute-checkbox";static observedAttributes=["element","attribute-name","show-warnings"];constructor(){super(),this.checkboxChangeListener=e=>{this._updateElement()}}elementChangedCallback({newValue:e}){e?(this.element=document.getElementById(e),this.isConnected&&!this.element&&this.logger.warn("No such element in the document with id '%s'",e)):(this.element=null,this.checkbox.removeEventListener("change",this.checkboxChangeListener))}attributeNameChangedCallback({newValue:e}){this.attributeName=e}render(){this.checkbox.addEventListener("change",this.checkboxChangeListener),this._updateElement()}_updateElement(){this.element&&this.attributeName&&(this.checkbox.checked?this.element.setAttribute(this.attributeName,!0):this.element.removeAttribute(this.attributeName))}check(){this.checkbox&&(this.checkbox.checked=!0,this.render())}uncheck(){this.checkbox&&(this.checkbox.checked=!1,this.render())}get checkbox(){let e=this.querySelectorAll("input[type=checkbox]");if(e.length==0){this.logger.warn("No checkboxes found inside element");return}return e.length>1&&this.logger.warn("More than one checkbox found - behavior is not defined"),e[0]}get checked(){return this.checkbox&&this.checkbox.checked}};var Y=class{static{a(this,"ColorShades")}constructor(e,t){if(!e)throw"name is required to create a ColorShades";if(!t)throw"scale is required to create a ColorShades";this.name=e,this.scale=t}};var v=class{static{a(this,"Generator")}constructor(e){this.colorShades=e}_eachColor({reverse:e,beforeGroup:t,afterGroup:r,onColor:o}){if(t||(t=a(()=>{},"beforeGroup")),r||(r=a(()=>{},"afterGroup")),!o)throw"onColor must be defined in _eachColor";let s={};this.colorShades.forEach(i=>{let l=i.name.toString();s[l]?(s[l]=s[l]+1,l=`${l}${s[l]}`):s[l]=1,t(l);let c=i.scale;e&&(c=c.reverse()),c.forEach((u,p,m)=>{o(l,u,p,m)}),r(l)})}};var N=class extends v{static{a(this,"CSSGenerator")}blob(){let e={},t=["/*",window.location," */",""];return t.push(":root {"),t.push(""),this._eachColor({beforeGroup:()=>t.push(""),onColor:(r,o,s,i)=>{t.push(this._variableName(r,o,s,i))}}),t.push("}"),new Blob([t.join(`
`)],{type:"text/css"})}_variableName(e,t,r,o){return`  --${e.toLowerCase()}-${r+1}: ${t};`}};var X=class extends v{static{a(this,"CSVGenerator")}blob(){let e=[["Color Category","Hex"].join(",")];return this._eachColor({onColor:(t,r,o)=>{e.push([t.toString().replaceAll(/['\",]/g,"-")+"-"+(o+1),r].join(","))}}),new Blob([e.join(`
`)],{type:"text/csv"})}};var K=class extends v{static{a(this,"MelangeConfigGenerator")}blob(){let e=[];return this._eachColor({beforeGroup:t=>{e.push("colorTints.register("),e.push(`  "${t.toString().toLowerCase()}",`),e.push("  [")},afterGroup:t=>{e.push("  ]"),e.push(")"),e.push("")},onColor:(t,r,o,s)=>{e.push(`    "${r}",`)},reverse:!0}),new Blob([e.join(`
`)],{type:"text/plain"})}_variableName(e,t,r,o){if(o.length!=5&&o.length!=7)throw`MelangeCSSVariablesGenerator cannot work with ${o.length} shades. Must be 5 or 7`;let s=o.length==5?r+1:r,i=this.constructor.shadeNames[s],l=e.toLowerCase();return`${this.constructor.melanageRecognizedColors.indexOf(l)!=-1?"":`  /* WARNING: this name is not recognized by Melange */
`}  --mg-${l}${i}: ${t};`}};var J=class extends N{static{a(this,"MelangeGenerator")}static shadeNames=["-darkest","-darker","-dark","","-light","-lighter","-lightest"];static melanageRecognizedColors=["red","blue","gray","green","orange","purple","red","yellow"];_variableName(e,t,r,o){if(o.length!=5&&o.length!=7)throw`MelangeCSSVariablesGenerator cannot work with ${o.length} shades. Must be 5 or 7`;let s=o.length==5?r+1:r,i=this.constructor.shadeNames[s],l=e.toLowerCase();return`${this.constructor.melanageRecognizedColors.indexOf(l)!=-1?"":`  /* WARNING: this name is not recognized by Melange */
`}  --mg-${l}${i}: ${t};`}};var Q=class extends v{static{a(this,"TailwindGenerator")}blob(){let e=this.colorShades[0].scale.length;if(e!=7&&e!=5)throw`TailwindConfigurationGenerator is not compatible with ${e} shades. Must be 7 or 5`;let t=[`// ${window.location}`,"","colors: {","  transparent: 'transparent',","  current: 'currentColor',"];return this._eachColor({reverse:!0,beforeGroup:r=>{t.push(`  "${r}": {`)},onColor:(r,o,s,i)=>{s==0?(t.push(`    100: "${o}",`),t.push(`    200: "${o}",`)):s==i.length-1?(t.push(`    800: "${o}",`),t.push(`    900: "${o}",`)):i.length==5?s==1?(t.push(`    300: "${o}",`),t.push(`    400: "${o}",`)):s==i.length-2?(t.push(`    600: "${o}",`),t.push(`    700: "${o}",`)):t.push(`    500: "${o}",`):t.push(`    ${s+2}00: "${o}",`)},afterGroup:r=>{t.push("  },")}}),t.push("}"),new Blob([t.join(`
`)],{type:"text/plain"})}};var Z=class extends d{static{a(this,"DownloadPaletteComponent")}static tagName="g-download-palette";static observedAttributes=["palette","generator","debug"];static generators={css:N,melange:J,"melange-config":K,tailwind:Q,csv:X};constructor(){super(),this.linkClickListener=e=>{this._generate()}}paletteChangedCallback({newValue:e}){e?(this.palette=document.getElementById(e),this.isConnected&&!this.palette&&this.logger.warn("No such element in the document with id '%s'",e)):(this.palette=null,this.link.removeEventListener("click",this.linkClickListener))}generatorChangedCallback({newValue:e}){e?(this.generator=this.constructor.generators[e],this.generator||this.logger.warn("No such generator '%s'",e)):this.generator=null}render(){this.link.addEventListener("click",this.linkClickListener)}_generate(){if(this.palette&&this.generator){let e=Array.from(this.palette.querySelectorAll("g-palette-color-scale")).map(o=>new Y(o.colorName,o.colorScale)).filter(o=>!!o),t=new this.generator(e).blob(),r=URL.createObjectURL(t);window.location=r}}get link(){let e=this.querySelectorAll("a");if(e.length==0){this.logger.warn("No links found inside element");return}return e.length>1&&this.logger.warn("More than one link found - behavior is not defined"),e[0]}};var ye=class{static{a(this,"PrettifiedHTML")}constructor(e){this._string=String(e),this.prettified=null}set string(e){this._string=e,this.prettified=null}get string(){return this._string}toString(){if(!this.prettified){let e=this._mergeAttributesWithElements(this.string);this.prettified=this._addIndentation(e)}return this.prettified}_mergeAttributesWithElements(e){let t=e.trim().replace(/(^(\s|\t)+|(( |\t)+)$)/gm,"").split(`
`),r=[],o="";for(let s=0;s<t.length;s+=1){let i=t[s];if(i.endsWith("/>")){r.push(`${o}${i.slice(0,-2)} />`),o="";continue}if(i.endsWith(">")){r.push(`${o}${i.startsWith(">")||i.startsWith("<")?"":" "}${i}`),o="";continue}o+=o.length?` ${i}`:i}return r}_addIndentation(e){let t=" ",o=0,s=[];return e.reverse().reduce((i,l)=>{s.length&&o&&s[o]&&s[o]===l.substring(1,s[o].length+1)&&(s.splice(o,1),o--);let u=[`${t.repeat(o?o*2:0)}${l}`,...i];return l.substring(0,2)==="</"&&(o++,s[o]=l.substring(2,l.length-1)),u},[]).join(`
`)}},V=class n extends HTMLElement{static{a(this,"ElementSourceComponent")}static observedAttributes=["element-id","element-sibling","html"];constructor(){super(),this.htmlToShow="outer"}connectedCallback(){this.$code=this.querySelector("code"),this.render()}attributeChangedCallback(e,t,r){e=="element-id"?this.element=document.getElementById(r):e=="element-sibling"?this.element=this.parentElement.querySelector(r):e=="html"&&(this.htmlToShow=r),this.render()}render(){this.element&&this.$code&&(this.$code.innerText=new ye(this.htmlToShow=="inner"?this.element.innerHTML:this.element.outerHTML).toString())}static tagName="g-element-source";static define(){customElements.define(this.tagName,n)}};var A=class extends d{static{a(this,"PreviewColorSelectionComponent")}static tagName="g-preview-color-selection";static observedAttributes=["color-scale","show-warnings"];colorScaleChangedCallback({newValue:e}){let t=(e||"").split(/,/);t==[""]&&(t=[]),this.colorScale=t}render(){if(this.colorScale){if(this.querySelectorAll("[data-background] g-color-swatch").forEach((e,t,r)=>{if(t==0||t==r.length-1)return;let o=t-1;this.colorScale[o]&&e.setAttribute("hex-code",this.colorScale[o])}),this.querySelectorAll("[data-text] g-color-swatch").forEach((e,t,r)=>{if(t==0||t==r.length-1)return;let o=t-1;this.colorScale[o]&&e.setAttribute("hex-code",this.colorScale[o])}),this.querySelectorAll("input[type=radio][name='text-color']:checked").length==0){let e=`input[type=radio][name='text-color'][value='${this.colorScale[0]}']`,t=this.querySelector(e);t&&t.click()}if(this.querySelectorAll("input[type=radio][name='background-color']:checked").length==0){let e=`input[type=radio][name='background-color'][value='${this.colorScale[this.colorScale.length-1]}']`,t=this.querySelector(e);t&&t.click()}}}};var L=class extends d{static{a(this,"PreviewComponent")}static tagName="g-preview";static observedAttributes=["show-warnings"];constructor(){super(),this.colorScale=[]}set colorScale(e){this._colorScale=e,this.render()}get colorScale(){return this._colorScale||[]}render(){this.querySelectorAll(A.tagName).forEach(e=>{e.setAttribute("color-scale",this.colorScale.join(","))}),this.querySelectorAll("g-preview-text").forEach(e=>{e.setAttribute("background-color",this.colorScale[this.colorScale.length-1]),e.setAttribute("text-color",this.colorScale[0])})}};var E=class{static{a(this,"Palette")}constructor(e,t,r){this.primaryColor=e,this.otherColors=t||[],this.compact=!!r}withPrimaryColor(e){this.primaryColor&&this.primaryColor.whenHexCode(e)}whenPrimaryNameUserOverride(e){this.primaryColor&&this.primaryColor.whenNameUserOverride(e)}whenPrimaryNameDefault(e){this.primaryColor&&this.primaryColor.whenNameDefault(e)}};var w=class{static{a(this,"PaletteEntry")}constructor({hexCode:e,userSuppliedName:t,algorithm:r}){if(e&&r)throw"You may not provide both hexCode and algorithm";if(!e&&!r)throw"You must provide hexCode or algorithm";this.hexCode=e,this.userSuppliedName=t,this.algorithm=r}get colorNameUserOverride(){return!!this.userSuppliedName}whenHexCode(e){this.hexCode&&e(this.hexCode)}whenAlgorithm(e){this.algorithm&&e(this.algorithm)}whenNameUserOverride(e){this.colorNameUserOverride&&e(this.userSuppliedName)}whenNameDefault(e){this.colorNameUserOverride||e()}};var ee=class{static{a(this,"SaveableState")}start(){this.pushState(window.location.toString(),{setURL:!1})}savePalette(e){let t=new URL(window.location),r=t.toString();e.primaryColor&&t.searchParams.set("primaryColor",e.primaryColor.userSuppliedName?`${e.primaryColor.hexCode}:${e.primaryColor.userSuppliedName}`:e.primaryColor.hexCode);let o=e.otherColors.map(s=>{let i=s.hexCode||s.algorithm;return s.userSuppliedName&&(i=i+":"+s.userSuppliedName),i}).join(",");t.searchParams.set("otherColors",o),t.searchParams.set("compact",String(!!e.compact)),r!=t.toString()&&this.pushState(t.toString(),{setURL:!0})}loadPalette(){let e=new URL(window.location),t=e.searchParams.get("primaryColor");if(t){let r=e.searchParams.get("compact")=="true",o=e.searchParams.get("otherColors"),[s,i]=t.split(/:/),l=g.fromHexCode(s),c=[],u=new w({hexCode:l.hexCode(),userSuppliedName:i});return o&&o.split(/,/).forEach(p=>{let[m,ne]=p.split(/:/),xe=g.fromHexCode(m,{onError:"return"});xe?c.push(new w({hexCode:xe.hexCode(),userSuppliedName:ne})):c.push(new w({algorithm:m,userSuppliedName:ne}))}),new E(u,c,r)}else return new E}pushState(e,{setURL:t}){let r={url:e};history.pushState(r,"",t?e:null)}};var B=class{static{a(this,"UnsaveableState")}start(){}savePalette(e){this.palette=e}loadPalette(){return this.palette||new E}};var P=class extends d{static{a(this,"PaletteComponent")}static tagName="g-palette";static observedAttributes=["show-warnings","save-state"];saveStateChangedCallback({newValue:e}){e||e===""?this._saveableState=new ee:this._saveableState=new B}get saveableState(){return this._saveableState}constructor(){super(),this._saveableState=new B,this.colorChangeEventListener=e=>{this.dispatchEvent(new CustomEvent("palette-change",{cancelable:!1,bubbles:!0}))},this.previewScaleEventListener=e=>{let t=document.getElementById("preview-dialog"),r=t.querySelector("g-preview");r&&r instanceof L?r.colorScale=e.detail.colorScale:console.warn("Expected the dialog to have a g-preview inside, but found %o",r),t.querySelectorAll("button[data-close]").forEach(o=>{o.addEventListener("click",s=>{s.preventDefault(),t.close()})}),t.showModal()}}render(){this.querySelectorAll(C.tagName).forEach(e=>{this._addScaleEventListeners(e)})}get primaryColor(){let e=this.primaryColorScale;return e?{hexCode:e.baseColorSwatch.hexCode,colorName:e.colorName,colorNameUserOverride:e.colorNameUserOverride}:{}}get otherColors(){let e=[];return this.querySelectorAll(C.tagName).forEach(t=>{t.isPrimary||(t.linkedPrimaryAlgorithm?e.push({algorithm:t.linkedPrimaryAlgorithm,colorName:t.colorName,colorNameUserOverride:t.colorNameUserOverride}):e.push({hexCode:t.baseColorSwatch.hexCode,colorName:t.colorName,colorNameUserOverride:t.colorNameUserOverride}))}),e}get primaryColorScale(){return this.querySelector(C.tagName+"[primary]")}addScale({linkAlgorithm:e=null,hexCode:t=null}={}){let r=this.primaryColorScale;if(!r){this.logger.warn("Palette has no primary color scale, so there is no reference to duplicate when adding a new scale");return}if(e&&this.querySelector(C.tagName+`[linked-to-primary='${e}']`))return;let o=r.cloneNode(!0);return o.removeAttribute("primary"),o.baseColorSwatch.removeAttribute("id"),o.baseColorSwatch.removeAttribute("default-link-context"),e&&o.baseColorSwatch.querySelectorAll("input[type=color]").forEach(s=>{s.setAttribute("disabled",!0)}),o.swatches.forEach(s=>s.removeAttribute("derived-from")),this.appendChild(o),e?(o.baseColorSwatch.removeAttribute("hex-code"),o.setAttribute("linked-to-primary",e)):t?o.baseColorSwatch.setAttribute("hex-code",t):o.baseColorSwatch.setAttribute("hex-code",Color.random().hexCode()),o.querySelectorAll(b.tagName).forEach(s=>{s.getAttribute("color-swatch")==r.baseColorSwatch.id&&(s.setAttribute("color-swatch",o.baseColorSwatch.id),s.restoreDefaultColorName())}),this.dispatchEvent(new CustomEvent("palette-change",{cancelable:!1,bubbles:!0})),this._addScaleEventListeners(o),o}_addScaleEventListeners(e){e.addEventListener("base-color-changed",this.colorChangeEventListener),e.addEventListener("unlink-from-primary",this.colorChangeEventListener),e.addEventListener("remove-scale",this.colorChangeEventListener),e.addEventListener("name-change",this.colorChangeEventListener),e.addEventListener("name-cleared",this.colorChangeEventListener),e.addEventListener("preview-scale",this.previewScaleEventListener)}};var te=class extends d{static{a(this,"PreviewColorsContrastComponent")}static tagName="g-preview-colors-contrast";static observedAttributes=["show-warnings","background-color","text-color","form"];formChangedCallback({newValue:e}){this.formName=e}backgroundColorChangedCallback({newValue:e}){this.backgroundColor=e?new g(e):null}textColorChangedCallback({newValue:e}){this.textColor=e?new g(e):null}constructor(){super(),this.formElementChangeListener=e=>{this._updateColors(e.target)}}get form(){return this.formName?document.querySelector(`form[name='${this.formName}']`):null}render(){if(this.form&&(Array.from(this.form.elements).forEach(e=>{e.addEventListener("change",this.formElementChangeListener)}),this.textColor&&this.backgroundColor)){let e=Math.floor(this.textColor.contrast(this.backgroundColor)*100)/100;this.querySelectorAll("[data-ratio]").forEach(t=>{t.textContent=e}),this.querySelectorAll("[data-enhanced]").forEach(t=>{e>=7.1?t.style.display="inline":t.style.display="none"}),this.querySelectorAll("[data-minimum]").forEach(t=>{e>=4.5&&e<7.1?t.style.display="inline":t.style.display="none"}),this.querySelectorAll("[data-insufficient]").forEach(t=>{e<4.5?t.style.display="inline":t.style.display="none"})}}_updateColors(e){e.name=="text-color"?this.setAttribute("text-color",e.value):e.name=="background-color"&&(this.setAttribute("background-color",e.value),this.render())}};var re=class extends d{static{a(this,"PreviewTextComponent")}static tagName="g-preview-text";static observedAttributes=["background-color","text-color","show-warnings","form"];formChangedCallback({newValue:e}){this.formName=e}constructor(){super(),this.fullscreenListener=e=>{e.preventDefault(),this.requestFullscreen().then(()=>{this.querySelectorAll("button[data-exit-full-screen]").forEach(t=>{t.style.display="inline"}),this.querySelectorAll("button[data-full-screen]").forEach(t=>{t.style.display="none"})}).catch(t=>{console.warn("Full screen rejected: %o",t)})},this.exitFullscreenListener=e=>{e.preventDefault(),document.exitFullscreen().then(()=>{this.querySelectorAll("button[data-exit-full-screen]").forEach(t=>{t.style.display="none"}),this.querySelectorAll("button[data-full-screen]").forEach(t=>{t.style.display="inline"})}).catch(t=>{console.warn("Exit Full screen rejected: %o",t)})},this.formElementChangeListener=e=>{this._updateColors(e.target)}}backgroundColorChangedCallback({newValue:e}){this.backgroundColor=e}textColorChangedCallback({newValue:e}){this.textColor=e}get form(){return this.formName?document.querySelector(`form[name='${this.formName}']`):null}render(){this.form&&Array.from(this.form.elements).forEach(e=>{e.addEventListener("change",this.formElementChangeListener)}),this.backgroundColor?this.style.backgroundColor=this.backgroundColor:this.style.backgroundColor="transparent",this.textColor?this.style.color=this.textColor:this.style.color="currentColor",this.querySelectorAll("button[data-exit-full-screen]").forEach(e=>{e.addEventListener("click",this.exitFullscreenListener),e.style.display="none"}),this.querySelectorAll("button[data-full-screen]").forEach(e=>{e.addEventListener("click",this.fullscreenListener),e.style.display="inline"})}_updateColors(e){e.name=="text-color"?this.setAttribute("text-color",e.value):e.name=="background-color"&&(this.setAttribute("background-color",e.value),this.render())}};var Ye=a(function(n,e){let t=null;return(...r)=>{t===null&&(n(...r),t=setTimeout(()=>{t=null},e))}},"throttle"),oe=class{static{a(this,"PaletteUI")}constructor(e){if(this.saveableState=e,!this.saveableState)throw"PushState is required";this.palette=this.saveableState.loadPalette(),this.throttledSavePalette=Ye(this.saveableState.savePalette.bind(this.saveableState),500)}build(){let e=document.querySelector("g-palette");if(!e)return;new URL(window.location).searchParams.get("compact")=="true"&&document.querySelectorAll(`${k.tagName}[attribute-name='compact']`).forEach(r=>{r.check()}),document.querySelectorAll(`${k.tagName}[attribute-name='compact']`).forEach(r=>{this.palette.compact?r.check():r.uncheck()}),document.querySelectorAll(`${C.tagName}[primary]`).forEach(r=>{this.palette.withPrimaryColor(o=>r.baseColorSwatch.setAttribute("hex-code",o)),this.palette.whenPrimaryNameUserOverride(o=>r.overrideColorName(o)),this.palette.whenPrimaryNameDefault(()=>r.restoreDefaultColorName())}),this.palette.otherColors.forEach(r=>{let o=null;r.whenHexCode(s=>{o=e.addScale({hexCode:s})}),r.whenAlgorithm(s=>{o=e.addScale({linkAlgorithm:r.algorithm})}),o&&(r.whenNameUserOverride(s=>o.overrideColorName(s)),r.whenNameDefault(()=>o.restoreDefaultColorName(name)))}),e.addEventListener("palette-change",()=>{this.extractPalette(),this.throttledSavePalette(this.palette)}),document.querySelectorAll(`${k.tagName}[attribute-name='compact']`).forEach(r=>{r.addEventListener("change",()=>{this.palette.compact=r.checked,this.throttledSavePalette(this.palette)})})}extractPalette(){let e=document.querySelector("g-palette");if(e&&e.primaryColor){this.palette.primaryColor=new w({hexCode:e.primaryColor.hexCode,userSuppliedName:e.primaryColor.colorNameUserOverride?e.primaryColor.colorName:null});let t=e.otherColors.map(r=>{let o=r.colorNameUserOverride?r.colorName:null;return r.hexCode?new w({hexCode:r.hexCode,userSuppliedName:o}):new w({algorithm:r.algorithm,userSuppliedName:o})});this.palette.otherColors=t,this.palette.compact=!!e.getAttribute("compact")}}};document.addEventListener("DOMContentLoaded",()=>{W.define(),k.define(),b.define(),y.define(),Z.define(),V.define(),C.define(),P.define(),L.define(),te.define(),re.define(),A.define();let n=document.querySelector(P.tagName);if(n){let e=n.saveableState;e.start(),new oe(e).build(),window.addEventListener("popstate",r=>{r.state&&r.state.url&&(window.location=r.state.url)})}});})();
//# sourceMappingURL=main.js.map
