{
  "version": 3,
  "sources": ["../../node_modules/color-name/index.js", "../../node_modules/color-convert/conversions.js", "../../node_modules/color-convert/route.js", "../../node_modules/color-convert/index.js", "../../src/js/brutaldom/Logger.js", "../../src/js/brutaldom/RichString.js", "../../src/js/brutaldom/BaseCustomElement.js", "../../src/js/Color.js", "../../src/js/NotValidHexCode.js", "../../src/js/components/ColorNameComponent.js", "../../src/js/derivations/BaseDerivation.js", "../../src/js/derivations/BrightnessDerivation.js", "../../src/js/derivations/ComplementaryDerivation.js", "../../src/js/derivations/AnalogousDerivation.js", "../../src/js/derivations/SplitComplementaryDerivation.js", "../../src/js/derivations/TriadDerivation.js", "../../src/js/derivations/DerivationAlgorithm.js", "../../src/js/components/ColorSwatchComponent.js", "../../src/js/color-scales/BaseGradient.js", "../../src/js/color-scales/LinearGradient.js", "../../src/js/color-scales/ExponentialGradient.js", "../../src/js/color-scales/NoGradient.js", "../../src/js/color-scales/ColorScale.js", "../../src/js/components/PaletteColorScaleComponent.js", "../../src/js/components/AddColorScaleButtonComponent.js", "../../src/js/components/AttributeCheckboxComponent.js", "../../src/js/generators/ColorShades.js", "../../src/js/generators/Generator.js", "../../src/js/generators/CSSGenerator.js", "../../src/js/generators/CSVGenerator.js", "../../src/js/generators/MelangeConfigGenerator.js", "../../src/js/generators/MelangeGenerator.js", "../../src/js/generators/TailwindGenerator.js", "../../src/js/components/DownloadPaletteComponent.js", "../../src/js/brutaldom/components/ElementSourceComponent.js", "../../src/js/components/PreviewColorSelectionComponent.js", "../../src/js/components/PreviewTextComponent.js", "../../src/js/components/PreviewControlsComponent.js", "../../src/js/components/PreviewComponent.js", "../../src/js/Palette.js", "../../src/js/PaletteEntry.js", "../../src/js/SaveableState.js", "../../src/js/UnsaveableState.js", "../../src/js/components/PaletteComponent.js", "../../src/js/components/PreviewColorsContrastComponent.js", "../../src/js/PaletteUI.js", "../../src/js/index.js"],
  "sourcesContent": ["'use strict'\r\n\r\nmodule.exports = {\r\n\t\"aliceblue\": [240, 248, 255],\r\n\t\"antiquewhite\": [250, 235, 215],\r\n\t\"aqua\": [0, 255, 255],\r\n\t\"aquamarine\": [127, 255, 212],\r\n\t\"azure\": [240, 255, 255],\r\n\t\"beige\": [245, 245, 220],\r\n\t\"bisque\": [255, 228, 196],\r\n\t\"black\": [0, 0, 0],\r\n\t\"blanchedalmond\": [255, 235, 205],\r\n\t\"blue\": [0, 0, 255],\r\n\t\"blueviolet\": [138, 43, 226],\r\n\t\"brown\": [165, 42, 42],\r\n\t\"burlywood\": [222, 184, 135],\r\n\t\"cadetblue\": [95, 158, 160],\r\n\t\"chartreuse\": [127, 255, 0],\r\n\t\"chocolate\": [210, 105, 30],\r\n\t\"coral\": [255, 127, 80],\r\n\t\"cornflowerblue\": [100, 149, 237],\r\n\t\"cornsilk\": [255, 248, 220],\r\n\t\"crimson\": [220, 20, 60],\r\n\t\"cyan\": [0, 255, 255],\r\n\t\"darkblue\": [0, 0, 139],\r\n\t\"darkcyan\": [0, 139, 139],\r\n\t\"darkgoldenrod\": [184, 134, 11],\r\n\t\"darkgray\": [169, 169, 169],\r\n\t\"darkgreen\": [0, 100, 0],\r\n\t\"darkgrey\": [169, 169, 169],\r\n\t\"darkkhaki\": [189, 183, 107],\r\n\t\"darkmagenta\": [139, 0, 139],\r\n\t\"darkolivegreen\": [85, 107, 47],\r\n\t\"darkorange\": [255, 140, 0],\r\n\t\"darkorchid\": [153, 50, 204],\r\n\t\"darkred\": [139, 0, 0],\r\n\t\"darksalmon\": [233, 150, 122],\r\n\t\"darkseagreen\": [143, 188, 143],\r\n\t\"darkslateblue\": [72, 61, 139],\r\n\t\"darkslategray\": [47, 79, 79],\r\n\t\"darkslategrey\": [47, 79, 79],\r\n\t\"darkturquoise\": [0, 206, 209],\r\n\t\"darkviolet\": [148, 0, 211],\r\n\t\"deeppink\": [255, 20, 147],\r\n\t\"deepskyblue\": [0, 191, 255],\r\n\t\"dimgray\": [105, 105, 105],\r\n\t\"dimgrey\": [105, 105, 105],\r\n\t\"dodgerblue\": [30, 144, 255],\r\n\t\"firebrick\": [178, 34, 34],\r\n\t\"floralwhite\": [255, 250, 240],\r\n\t\"forestgreen\": [34, 139, 34],\r\n\t\"fuchsia\": [255, 0, 255],\r\n\t\"gainsboro\": [220, 220, 220],\r\n\t\"ghostwhite\": [248, 248, 255],\r\n\t\"gold\": [255, 215, 0],\r\n\t\"goldenrod\": [218, 165, 32],\r\n\t\"gray\": [128, 128, 128],\r\n\t\"green\": [0, 128, 0],\r\n\t\"greenyellow\": [173, 255, 47],\r\n\t\"grey\": [128, 128, 128],\r\n\t\"honeydew\": [240, 255, 240],\r\n\t\"hotpink\": [255, 105, 180],\r\n\t\"indianred\": [205, 92, 92],\r\n\t\"indigo\": [75, 0, 130],\r\n\t\"ivory\": [255, 255, 240],\r\n\t\"khaki\": [240, 230, 140],\r\n\t\"lavender\": [230, 230, 250],\r\n\t\"lavenderblush\": [255, 240, 245],\r\n\t\"lawngreen\": [124, 252, 0],\r\n\t\"lemonchiffon\": [255, 250, 205],\r\n\t\"lightblue\": [173, 216, 230],\r\n\t\"lightcoral\": [240, 128, 128],\r\n\t\"lightcyan\": [224, 255, 255],\r\n\t\"lightgoldenrodyellow\": [250, 250, 210],\r\n\t\"lightgray\": [211, 211, 211],\r\n\t\"lightgreen\": [144, 238, 144],\r\n\t\"lightgrey\": [211, 211, 211],\r\n\t\"lightpink\": [255, 182, 193],\r\n\t\"lightsalmon\": [255, 160, 122],\r\n\t\"lightseagreen\": [32, 178, 170],\r\n\t\"lightskyblue\": [135, 206, 250],\r\n\t\"lightslategray\": [119, 136, 153],\r\n\t\"lightslategrey\": [119, 136, 153],\r\n\t\"lightsteelblue\": [176, 196, 222],\r\n\t\"lightyellow\": [255, 255, 224],\r\n\t\"lime\": [0, 255, 0],\r\n\t\"limegreen\": [50, 205, 50],\r\n\t\"linen\": [250, 240, 230],\r\n\t\"magenta\": [255, 0, 255],\r\n\t\"maroon\": [128, 0, 0],\r\n\t\"mediumaquamarine\": [102, 205, 170],\r\n\t\"mediumblue\": [0, 0, 205],\r\n\t\"mediumorchid\": [186, 85, 211],\r\n\t\"mediumpurple\": [147, 112, 219],\r\n\t\"mediumseagreen\": [60, 179, 113],\r\n\t\"mediumslateblue\": [123, 104, 238],\r\n\t\"mediumspringgreen\": [0, 250, 154],\r\n\t\"mediumturquoise\": [72, 209, 204],\r\n\t\"mediumvioletred\": [199, 21, 133],\r\n\t\"midnightblue\": [25, 25, 112],\r\n\t\"mintcream\": [245, 255, 250],\r\n\t\"mistyrose\": [255, 228, 225],\r\n\t\"moccasin\": [255, 228, 181],\r\n\t\"navajowhite\": [255, 222, 173],\r\n\t\"navy\": [0, 0, 128],\r\n\t\"oldlace\": [253, 245, 230],\r\n\t\"olive\": [128, 128, 0],\r\n\t\"olivedrab\": [107, 142, 35],\r\n\t\"orange\": [255, 165, 0],\r\n\t\"orangered\": [255, 69, 0],\r\n\t\"orchid\": [218, 112, 214],\r\n\t\"palegoldenrod\": [238, 232, 170],\r\n\t\"palegreen\": [152, 251, 152],\r\n\t\"paleturquoise\": [175, 238, 238],\r\n\t\"palevioletred\": [219, 112, 147],\r\n\t\"papayawhip\": [255, 239, 213],\r\n\t\"peachpuff\": [255, 218, 185],\r\n\t\"peru\": [205, 133, 63],\r\n\t\"pink\": [255, 192, 203],\r\n\t\"plum\": [221, 160, 221],\r\n\t\"powderblue\": [176, 224, 230],\r\n\t\"purple\": [128, 0, 128],\r\n\t\"rebeccapurple\": [102, 51, 153],\r\n\t\"red\": [255, 0, 0],\r\n\t\"rosybrown\": [188, 143, 143],\r\n\t\"royalblue\": [65, 105, 225],\r\n\t\"saddlebrown\": [139, 69, 19],\r\n\t\"salmon\": [250, 128, 114],\r\n\t\"sandybrown\": [244, 164, 96],\r\n\t\"seagreen\": [46, 139, 87],\r\n\t\"seashell\": [255, 245, 238],\r\n\t\"sienna\": [160, 82, 45],\r\n\t\"silver\": [192, 192, 192],\r\n\t\"skyblue\": [135, 206, 235],\r\n\t\"slateblue\": [106, 90, 205],\r\n\t\"slategray\": [112, 128, 144],\r\n\t\"slategrey\": [112, 128, 144],\r\n\t\"snow\": [255, 250, 250],\r\n\t\"springgreen\": [0, 255, 127],\r\n\t\"steelblue\": [70, 130, 180],\r\n\t\"tan\": [210, 180, 140],\r\n\t\"teal\": [0, 128, 128],\r\n\t\"thistle\": [216, 191, 216],\r\n\t\"tomato\": [255, 99, 71],\r\n\t\"turquoise\": [64, 224, 208],\r\n\t\"violet\": [238, 130, 238],\r\n\t\"wheat\": [245, 222, 179],\r\n\t\"white\": [255, 255, 255],\r\n\t\"whitesmoke\": [245, 245, 245],\r\n\t\"yellow\": [255, 255, 0],\r\n\t\"yellowgreen\": [154, 205, 50]\r\n};\r\n", "/* MIT license */\n/* eslint-disable no-mixed-operators */\nconst cssKeywords = require('color-name');\n\n// NOTE: conversions should only return primitive values (i.e. arrays, or\n//       values that give correct `typeof` results).\n//       do not use box values types (i.e. Number(), String(), etc.)\n\nconst reverseKeywords = {};\nfor (const key of Object.keys(cssKeywords)) {\n\treverseKeywords[cssKeywords[key]] = key;\n}\n\nconst convert = {\n\trgb: {channels: 3, labels: 'rgb'},\n\thsl: {channels: 3, labels: 'hsl'},\n\thsv: {channels: 3, labels: 'hsv'},\n\thwb: {channels: 3, labels: 'hwb'},\n\tcmyk: {channels: 4, labels: 'cmyk'},\n\txyz: {channels: 3, labels: 'xyz'},\n\tlab: {channels: 3, labels: 'lab'},\n\tlch: {channels: 3, labels: 'lch'},\n\thex: {channels: 1, labels: ['hex']},\n\tkeyword: {channels: 1, labels: ['keyword']},\n\tansi16: {channels: 1, labels: ['ansi16']},\n\tansi256: {channels: 1, labels: ['ansi256']},\n\thcg: {channels: 3, labels: ['h', 'c', 'g']},\n\tapple: {channels: 3, labels: ['r16', 'g16', 'b16']},\n\tgray: {channels: 1, labels: ['gray']}\n};\n\nmodule.exports = convert;\n\n// Hide .channels and .labels properties\nfor (const model of Object.keys(convert)) {\n\tif (!('channels' in convert[model])) {\n\t\tthrow new Error('missing channels property: ' + model);\n\t}\n\n\tif (!('labels' in convert[model])) {\n\t\tthrow new Error('missing channel labels property: ' + model);\n\t}\n\n\tif (convert[model].labels.length !== convert[model].channels) {\n\t\tthrow new Error('channel and label counts mismatch: ' + model);\n\t}\n\n\tconst {channels, labels} = convert[model];\n\tdelete convert[model].channels;\n\tdelete convert[model].labels;\n\tObject.defineProperty(convert[model], 'channels', {value: channels});\n\tObject.defineProperty(convert[model], 'labels', {value: labels});\n}\n\nconvert.rgb.hsl = function (rgb) {\n\tconst r = rgb[0] / 255;\n\tconst g = rgb[1] / 255;\n\tconst b = rgb[2] / 255;\n\tconst min = Math.min(r, g, b);\n\tconst max = Math.max(r, g, b);\n\tconst delta = max - min;\n\tlet h;\n\tlet s;\n\n\tif (max === min) {\n\t\th = 0;\n\t} else if (r === max) {\n\t\th = (g - b) / delta;\n\t} else if (g === max) {\n\t\th = 2 + (b - r) / delta;\n\t} else if (b === max) {\n\t\th = 4 + (r - g) / delta;\n\t}\n\n\th = Math.min(h * 60, 360);\n\n\tif (h < 0) {\n\t\th += 360;\n\t}\n\n\tconst l = (min + max) / 2;\n\n\tif (max === min) {\n\t\ts = 0;\n\t} else if (l <= 0.5) {\n\t\ts = delta / (max + min);\n\t} else {\n\t\ts = delta / (2 - max - min);\n\t}\n\n\treturn [h, s * 100, l * 100];\n};\n\nconvert.rgb.hsv = function (rgb) {\n\tlet rdif;\n\tlet gdif;\n\tlet bdif;\n\tlet h;\n\tlet s;\n\n\tconst r = rgb[0] / 255;\n\tconst g = rgb[1] / 255;\n\tconst b = rgb[2] / 255;\n\tconst v = Math.max(r, g, b);\n\tconst diff = v - Math.min(r, g, b);\n\tconst diffc = function (c) {\n\t\treturn (v - c) / 6 / diff + 1 / 2;\n\t};\n\n\tif (diff === 0) {\n\t\th = 0;\n\t\ts = 0;\n\t} else {\n\t\ts = diff / v;\n\t\trdif = diffc(r);\n\t\tgdif = diffc(g);\n\t\tbdif = diffc(b);\n\n\t\tif (r === v) {\n\t\t\th = bdif - gdif;\n\t\t} else if (g === v) {\n\t\t\th = (1 / 3) + rdif - bdif;\n\t\t} else if (b === v) {\n\t\t\th = (2 / 3) + gdif - rdif;\n\t\t}\n\n\t\tif (h < 0) {\n\t\t\th += 1;\n\t\t} else if (h > 1) {\n\t\t\th -= 1;\n\t\t}\n\t}\n\n\treturn [\n\t\th * 360,\n\t\ts * 100,\n\t\tv * 100\n\t];\n};\n\nconvert.rgb.hwb = function (rgb) {\n\tconst r = rgb[0];\n\tconst g = rgb[1];\n\tlet b = rgb[2];\n\tconst h = convert.rgb.hsl(rgb)[0];\n\tconst w = 1 / 255 * Math.min(r, Math.min(g, b));\n\n\tb = 1 - 1 / 255 * Math.max(r, Math.max(g, b));\n\n\treturn [h, w * 100, b * 100];\n};\n\nconvert.rgb.cmyk = function (rgb) {\n\tconst r = rgb[0] / 255;\n\tconst g = rgb[1] / 255;\n\tconst b = rgb[2] / 255;\n\n\tconst k = Math.min(1 - r, 1 - g, 1 - b);\n\tconst c = (1 - r - k) / (1 - k) || 0;\n\tconst m = (1 - g - k) / (1 - k) || 0;\n\tconst y = (1 - b - k) / (1 - k) || 0;\n\n\treturn [c * 100, m * 100, y * 100, k * 100];\n};\n\nfunction comparativeDistance(x, y) {\n\t/*\n\t\tSee https://en.m.wikipedia.org/wiki/Euclidean_distance#Squared_Euclidean_distance\n\t*/\n\treturn (\n\t\t((x[0] - y[0]) ** 2) +\n\t\t((x[1] - y[1]) ** 2) +\n\t\t((x[2] - y[2]) ** 2)\n\t);\n}\n\nconvert.rgb.keyword = function (rgb) {\n\tconst reversed = reverseKeywords[rgb];\n\tif (reversed) {\n\t\treturn reversed;\n\t}\n\n\tlet currentClosestDistance = Infinity;\n\tlet currentClosestKeyword;\n\n\tfor (const keyword of Object.keys(cssKeywords)) {\n\t\tconst value = cssKeywords[keyword];\n\n\t\t// Compute comparative distance\n\t\tconst distance = comparativeDistance(rgb, value);\n\n\t\t// Check if its less, if so set as closest\n\t\tif (distance < currentClosestDistance) {\n\t\t\tcurrentClosestDistance = distance;\n\t\t\tcurrentClosestKeyword = keyword;\n\t\t}\n\t}\n\n\treturn currentClosestKeyword;\n};\n\nconvert.keyword.rgb = function (keyword) {\n\treturn cssKeywords[keyword];\n};\n\nconvert.rgb.xyz = function (rgb) {\n\tlet r = rgb[0] / 255;\n\tlet g = rgb[1] / 255;\n\tlet b = rgb[2] / 255;\n\n\t// Assume sRGB\n\tr = r > 0.04045 ? (((r + 0.055) / 1.055) ** 2.4) : (r / 12.92);\n\tg = g > 0.04045 ? (((g + 0.055) / 1.055) ** 2.4) : (g / 12.92);\n\tb = b > 0.04045 ? (((b + 0.055) / 1.055) ** 2.4) : (b / 12.92);\n\n\tconst x = (r * 0.4124) + (g * 0.3576) + (b * 0.1805);\n\tconst y = (r * 0.2126) + (g * 0.7152) + (b * 0.0722);\n\tconst z = (r * 0.0193) + (g * 0.1192) + (b * 0.9505);\n\n\treturn [x * 100, y * 100, z * 100];\n};\n\nconvert.rgb.lab = function (rgb) {\n\tconst xyz = convert.rgb.xyz(rgb);\n\tlet x = xyz[0];\n\tlet y = xyz[1];\n\tlet z = xyz[2];\n\n\tx /= 95.047;\n\ty /= 100;\n\tz /= 108.883;\n\n\tx = x > 0.008856 ? (x ** (1 / 3)) : (7.787 * x) + (16 / 116);\n\ty = y > 0.008856 ? (y ** (1 / 3)) : (7.787 * y) + (16 / 116);\n\tz = z > 0.008856 ? (z ** (1 / 3)) : (7.787 * z) + (16 / 116);\n\n\tconst l = (116 * y) - 16;\n\tconst a = 500 * (x - y);\n\tconst b = 200 * (y - z);\n\n\treturn [l, a, b];\n};\n\nconvert.hsl.rgb = function (hsl) {\n\tconst h = hsl[0] / 360;\n\tconst s = hsl[1] / 100;\n\tconst l = hsl[2] / 100;\n\tlet t2;\n\tlet t3;\n\tlet val;\n\n\tif (s === 0) {\n\t\tval = l * 255;\n\t\treturn [val, val, val];\n\t}\n\n\tif (l < 0.5) {\n\t\tt2 = l * (1 + s);\n\t} else {\n\t\tt2 = l + s - l * s;\n\t}\n\n\tconst t1 = 2 * l - t2;\n\n\tconst rgb = [0, 0, 0];\n\tfor (let i = 0; i < 3; i++) {\n\t\tt3 = h + 1 / 3 * -(i - 1);\n\t\tif (t3 < 0) {\n\t\t\tt3++;\n\t\t}\n\n\t\tif (t3 > 1) {\n\t\t\tt3--;\n\t\t}\n\n\t\tif (6 * t3 < 1) {\n\t\t\tval = t1 + (t2 - t1) * 6 * t3;\n\t\t} else if (2 * t3 < 1) {\n\t\t\tval = t2;\n\t\t} else if (3 * t3 < 2) {\n\t\t\tval = t1 + (t2 - t1) * (2 / 3 - t3) * 6;\n\t\t} else {\n\t\t\tval = t1;\n\t\t}\n\n\t\trgb[i] = val * 255;\n\t}\n\n\treturn rgb;\n};\n\nconvert.hsl.hsv = function (hsl) {\n\tconst h = hsl[0];\n\tlet s = hsl[1] / 100;\n\tlet l = hsl[2] / 100;\n\tlet smin = s;\n\tconst lmin = Math.max(l, 0.01);\n\n\tl *= 2;\n\ts *= (l <= 1) ? l : 2 - l;\n\tsmin *= lmin <= 1 ? lmin : 2 - lmin;\n\tconst v = (l + s) / 2;\n\tconst sv = l === 0 ? (2 * smin) / (lmin + smin) : (2 * s) / (l + s);\n\n\treturn [h, sv * 100, v * 100];\n};\n\nconvert.hsv.rgb = function (hsv) {\n\tconst h = hsv[0] / 60;\n\tconst s = hsv[1] / 100;\n\tlet v = hsv[2] / 100;\n\tconst hi = Math.floor(h) % 6;\n\n\tconst f = h - Math.floor(h);\n\tconst p = 255 * v * (1 - s);\n\tconst q = 255 * v * (1 - (s * f));\n\tconst t = 255 * v * (1 - (s * (1 - f)));\n\tv *= 255;\n\n\tswitch (hi) {\n\t\tcase 0:\n\t\t\treturn [v, t, p];\n\t\tcase 1:\n\t\t\treturn [q, v, p];\n\t\tcase 2:\n\t\t\treturn [p, v, t];\n\t\tcase 3:\n\t\t\treturn [p, q, v];\n\t\tcase 4:\n\t\t\treturn [t, p, v];\n\t\tcase 5:\n\t\t\treturn [v, p, q];\n\t}\n};\n\nconvert.hsv.hsl = function (hsv) {\n\tconst h = hsv[0];\n\tconst s = hsv[1] / 100;\n\tconst v = hsv[2] / 100;\n\tconst vmin = Math.max(v, 0.01);\n\tlet sl;\n\tlet l;\n\n\tl = (2 - s) * v;\n\tconst lmin = (2 - s) * vmin;\n\tsl = s * vmin;\n\tsl /= (lmin <= 1) ? lmin : 2 - lmin;\n\tsl = sl || 0;\n\tl /= 2;\n\n\treturn [h, sl * 100, l * 100];\n};\n\n// http://dev.w3.org/csswg/css-color/#hwb-to-rgb\nconvert.hwb.rgb = function (hwb) {\n\tconst h = hwb[0] / 360;\n\tlet wh = hwb[1] / 100;\n\tlet bl = hwb[2] / 100;\n\tconst ratio = wh + bl;\n\tlet f;\n\n\t// Wh + bl cant be > 1\n\tif (ratio > 1) {\n\t\twh /= ratio;\n\t\tbl /= ratio;\n\t}\n\n\tconst i = Math.floor(6 * h);\n\tconst v = 1 - bl;\n\tf = 6 * h - i;\n\n\tif ((i & 0x01) !== 0) {\n\t\tf = 1 - f;\n\t}\n\n\tconst n = wh + f * (v - wh); // Linear interpolation\n\n\tlet r;\n\tlet g;\n\tlet b;\n\t/* eslint-disable max-statements-per-line,no-multi-spaces */\n\tswitch (i) {\n\t\tdefault:\n\t\tcase 6:\n\t\tcase 0: r = v;  g = n;  b = wh; break;\n\t\tcase 1: r = n;  g = v;  b = wh; break;\n\t\tcase 2: r = wh; g = v;  b = n; break;\n\t\tcase 3: r = wh; g = n;  b = v; break;\n\t\tcase 4: r = n;  g = wh; b = v; break;\n\t\tcase 5: r = v;  g = wh; b = n; break;\n\t}\n\t/* eslint-enable max-statements-per-line,no-multi-spaces */\n\n\treturn [r * 255, g * 255, b * 255];\n};\n\nconvert.cmyk.rgb = function (cmyk) {\n\tconst c = cmyk[0] / 100;\n\tconst m = cmyk[1] / 100;\n\tconst y = cmyk[2] / 100;\n\tconst k = cmyk[3] / 100;\n\n\tconst r = 1 - Math.min(1, c * (1 - k) + k);\n\tconst g = 1 - Math.min(1, m * (1 - k) + k);\n\tconst b = 1 - Math.min(1, y * (1 - k) + k);\n\n\treturn [r * 255, g * 255, b * 255];\n};\n\nconvert.xyz.rgb = function (xyz) {\n\tconst x = xyz[0] / 100;\n\tconst y = xyz[1] / 100;\n\tconst z = xyz[2] / 100;\n\tlet r;\n\tlet g;\n\tlet b;\n\n\tr = (x * 3.2406) + (y * -1.5372) + (z * -0.4986);\n\tg = (x * -0.9689) + (y * 1.8758) + (z * 0.0415);\n\tb = (x * 0.0557) + (y * -0.2040) + (z * 1.0570);\n\n\t// Assume sRGB\n\tr = r > 0.0031308\n\t\t? ((1.055 * (r ** (1.0 / 2.4))) - 0.055)\n\t\t: r * 12.92;\n\n\tg = g > 0.0031308\n\t\t? ((1.055 * (g ** (1.0 / 2.4))) - 0.055)\n\t\t: g * 12.92;\n\n\tb = b > 0.0031308\n\t\t? ((1.055 * (b ** (1.0 / 2.4))) - 0.055)\n\t\t: b * 12.92;\n\n\tr = Math.min(Math.max(0, r), 1);\n\tg = Math.min(Math.max(0, g), 1);\n\tb = Math.min(Math.max(0, b), 1);\n\n\treturn [r * 255, g * 255, b * 255];\n};\n\nconvert.xyz.lab = function (xyz) {\n\tlet x = xyz[0];\n\tlet y = xyz[1];\n\tlet z = xyz[2];\n\n\tx /= 95.047;\n\ty /= 100;\n\tz /= 108.883;\n\n\tx = x > 0.008856 ? (x ** (1 / 3)) : (7.787 * x) + (16 / 116);\n\ty = y > 0.008856 ? (y ** (1 / 3)) : (7.787 * y) + (16 / 116);\n\tz = z > 0.008856 ? (z ** (1 / 3)) : (7.787 * z) + (16 / 116);\n\n\tconst l = (116 * y) - 16;\n\tconst a = 500 * (x - y);\n\tconst b = 200 * (y - z);\n\n\treturn [l, a, b];\n};\n\nconvert.lab.xyz = function (lab) {\n\tconst l = lab[0];\n\tconst a = lab[1];\n\tconst b = lab[2];\n\tlet x;\n\tlet y;\n\tlet z;\n\n\ty = (l + 16) / 116;\n\tx = a / 500 + y;\n\tz = y - b / 200;\n\n\tconst y2 = y ** 3;\n\tconst x2 = x ** 3;\n\tconst z2 = z ** 3;\n\ty = y2 > 0.008856 ? y2 : (y - 16 / 116) / 7.787;\n\tx = x2 > 0.008856 ? x2 : (x - 16 / 116) / 7.787;\n\tz = z2 > 0.008856 ? z2 : (z - 16 / 116) / 7.787;\n\n\tx *= 95.047;\n\ty *= 100;\n\tz *= 108.883;\n\n\treturn [x, y, z];\n};\n\nconvert.lab.lch = function (lab) {\n\tconst l = lab[0];\n\tconst a = lab[1];\n\tconst b = lab[2];\n\tlet h;\n\n\tconst hr = Math.atan2(b, a);\n\th = hr * 360 / 2 / Math.PI;\n\n\tif (h < 0) {\n\t\th += 360;\n\t}\n\n\tconst c = Math.sqrt(a * a + b * b);\n\n\treturn [l, c, h];\n};\n\nconvert.lch.lab = function (lch) {\n\tconst l = lch[0];\n\tconst c = lch[1];\n\tconst h = lch[2];\n\n\tconst hr = h / 360 * 2 * Math.PI;\n\tconst a = c * Math.cos(hr);\n\tconst b = c * Math.sin(hr);\n\n\treturn [l, a, b];\n};\n\nconvert.rgb.ansi16 = function (args, saturation = null) {\n\tconst [r, g, b] = args;\n\tlet value = saturation === null ? convert.rgb.hsv(args)[2] : saturation; // Hsv -> ansi16 optimization\n\n\tvalue = Math.round(value / 50);\n\n\tif (value === 0) {\n\t\treturn 30;\n\t}\n\n\tlet ansi = 30\n\t\t+ ((Math.round(b / 255) << 2)\n\t\t| (Math.round(g / 255) << 1)\n\t\t| Math.round(r / 255));\n\n\tif (value === 2) {\n\t\tansi += 60;\n\t}\n\n\treturn ansi;\n};\n\nconvert.hsv.ansi16 = function (args) {\n\t// Optimization here; we already know the value and don't need to get\n\t// it converted for us.\n\treturn convert.rgb.ansi16(convert.hsv.rgb(args), args[2]);\n};\n\nconvert.rgb.ansi256 = function (args) {\n\tconst r = args[0];\n\tconst g = args[1];\n\tconst b = args[2];\n\n\t// We use the extended greyscale palette here, with the exception of\n\t// black and white. normal palette only has 4 greyscale shades.\n\tif (r === g && g === b) {\n\t\tif (r < 8) {\n\t\t\treturn 16;\n\t\t}\n\n\t\tif (r > 248) {\n\t\t\treturn 231;\n\t\t}\n\n\t\treturn Math.round(((r - 8) / 247) * 24) + 232;\n\t}\n\n\tconst ansi = 16\n\t\t+ (36 * Math.round(r / 255 * 5))\n\t\t+ (6 * Math.round(g / 255 * 5))\n\t\t+ Math.round(b / 255 * 5);\n\n\treturn ansi;\n};\n\nconvert.ansi16.rgb = function (args) {\n\tlet color = args % 10;\n\n\t// Handle greyscale\n\tif (color === 0 || color === 7) {\n\t\tif (args > 50) {\n\t\t\tcolor += 3.5;\n\t\t}\n\n\t\tcolor = color / 10.5 * 255;\n\n\t\treturn [color, color, color];\n\t}\n\n\tconst mult = (~~(args > 50) + 1) * 0.5;\n\tconst r = ((color & 1) * mult) * 255;\n\tconst g = (((color >> 1) & 1) * mult) * 255;\n\tconst b = (((color >> 2) & 1) * mult) * 255;\n\n\treturn [r, g, b];\n};\n\nconvert.ansi256.rgb = function (args) {\n\t// Handle greyscale\n\tif (args >= 232) {\n\t\tconst c = (args - 232) * 10 + 8;\n\t\treturn [c, c, c];\n\t}\n\n\targs -= 16;\n\n\tlet rem;\n\tconst r = Math.floor(args / 36) / 5 * 255;\n\tconst g = Math.floor((rem = args % 36) / 6) / 5 * 255;\n\tconst b = (rem % 6) / 5 * 255;\n\n\treturn [r, g, b];\n};\n\nconvert.rgb.hex = function (args) {\n\tconst integer = ((Math.round(args[0]) & 0xFF) << 16)\n\t\t+ ((Math.round(args[1]) & 0xFF) << 8)\n\t\t+ (Math.round(args[2]) & 0xFF);\n\n\tconst string = integer.toString(16).toUpperCase();\n\treturn '000000'.substring(string.length) + string;\n};\n\nconvert.hex.rgb = function (args) {\n\tconst match = args.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);\n\tif (!match) {\n\t\treturn [0, 0, 0];\n\t}\n\n\tlet colorString = match[0];\n\n\tif (match[0].length === 3) {\n\t\tcolorString = colorString.split('').map(char => {\n\t\t\treturn char + char;\n\t\t}).join('');\n\t}\n\n\tconst integer = parseInt(colorString, 16);\n\tconst r = (integer >> 16) & 0xFF;\n\tconst g = (integer >> 8) & 0xFF;\n\tconst b = integer & 0xFF;\n\n\treturn [r, g, b];\n};\n\nconvert.rgb.hcg = function (rgb) {\n\tconst r = rgb[0] / 255;\n\tconst g = rgb[1] / 255;\n\tconst b = rgb[2] / 255;\n\tconst max = Math.max(Math.max(r, g), b);\n\tconst min = Math.min(Math.min(r, g), b);\n\tconst chroma = (max - min);\n\tlet grayscale;\n\tlet hue;\n\n\tif (chroma < 1) {\n\t\tgrayscale = min / (1 - chroma);\n\t} else {\n\t\tgrayscale = 0;\n\t}\n\n\tif (chroma <= 0) {\n\t\thue = 0;\n\t} else\n\tif (max === r) {\n\t\thue = ((g - b) / chroma) % 6;\n\t} else\n\tif (max === g) {\n\t\thue = 2 + (b - r) / chroma;\n\t} else {\n\t\thue = 4 + (r - g) / chroma;\n\t}\n\n\thue /= 6;\n\thue %= 1;\n\n\treturn [hue * 360, chroma * 100, grayscale * 100];\n};\n\nconvert.hsl.hcg = function (hsl) {\n\tconst s = hsl[1] / 100;\n\tconst l = hsl[2] / 100;\n\n\tconst c = l < 0.5 ? (2.0 * s * l) : (2.0 * s * (1.0 - l));\n\n\tlet f = 0;\n\tif (c < 1.0) {\n\t\tf = (l - 0.5 * c) / (1.0 - c);\n\t}\n\n\treturn [hsl[0], c * 100, f * 100];\n};\n\nconvert.hsv.hcg = function (hsv) {\n\tconst s = hsv[1] / 100;\n\tconst v = hsv[2] / 100;\n\n\tconst c = s * v;\n\tlet f = 0;\n\n\tif (c < 1.0) {\n\t\tf = (v - c) / (1 - c);\n\t}\n\n\treturn [hsv[0], c * 100, f * 100];\n};\n\nconvert.hcg.rgb = function (hcg) {\n\tconst h = hcg[0] / 360;\n\tconst c = hcg[1] / 100;\n\tconst g = hcg[2] / 100;\n\n\tif (c === 0.0) {\n\t\treturn [g * 255, g * 255, g * 255];\n\t}\n\n\tconst pure = [0, 0, 0];\n\tconst hi = (h % 1) * 6;\n\tconst v = hi % 1;\n\tconst w = 1 - v;\n\tlet mg = 0;\n\n\t/* eslint-disable max-statements-per-line */\n\tswitch (Math.floor(hi)) {\n\t\tcase 0:\n\t\t\tpure[0] = 1; pure[1] = v; pure[2] = 0; break;\n\t\tcase 1:\n\t\t\tpure[0] = w; pure[1] = 1; pure[2] = 0; break;\n\t\tcase 2:\n\t\t\tpure[0] = 0; pure[1] = 1; pure[2] = v; break;\n\t\tcase 3:\n\t\t\tpure[0] = 0; pure[1] = w; pure[2] = 1; break;\n\t\tcase 4:\n\t\t\tpure[0] = v; pure[1] = 0; pure[2] = 1; break;\n\t\tdefault:\n\t\t\tpure[0] = 1; pure[1] = 0; pure[2] = w;\n\t}\n\t/* eslint-enable max-statements-per-line */\n\n\tmg = (1.0 - c) * g;\n\n\treturn [\n\t\t(c * pure[0] + mg) * 255,\n\t\t(c * pure[1] + mg) * 255,\n\t\t(c * pure[2] + mg) * 255\n\t];\n};\n\nconvert.hcg.hsv = function (hcg) {\n\tconst c = hcg[1] / 100;\n\tconst g = hcg[2] / 100;\n\n\tconst v = c + g * (1.0 - c);\n\tlet f = 0;\n\n\tif (v > 0.0) {\n\t\tf = c / v;\n\t}\n\n\treturn [hcg[0], f * 100, v * 100];\n};\n\nconvert.hcg.hsl = function (hcg) {\n\tconst c = hcg[1] / 100;\n\tconst g = hcg[2] / 100;\n\n\tconst l = g * (1.0 - c) + 0.5 * c;\n\tlet s = 0;\n\n\tif (l > 0.0 && l < 0.5) {\n\t\ts = c / (2 * l);\n\t} else\n\tif (l >= 0.5 && l < 1.0) {\n\t\ts = c / (2 * (1 - l));\n\t}\n\n\treturn [hcg[0], s * 100, l * 100];\n};\n\nconvert.hcg.hwb = function (hcg) {\n\tconst c = hcg[1] / 100;\n\tconst g = hcg[2] / 100;\n\tconst v = c + g * (1.0 - c);\n\treturn [hcg[0], (v - c) * 100, (1 - v) * 100];\n};\n\nconvert.hwb.hcg = function (hwb) {\n\tconst w = hwb[1] / 100;\n\tconst b = hwb[2] / 100;\n\tconst v = 1 - b;\n\tconst c = v - w;\n\tlet g = 0;\n\n\tif (c < 1) {\n\t\tg = (v - c) / (1 - c);\n\t}\n\n\treturn [hwb[0], c * 100, g * 100];\n};\n\nconvert.apple.rgb = function (apple) {\n\treturn [(apple[0] / 65535) * 255, (apple[1] / 65535) * 255, (apple[2] / 65535) * 255];\n};\n\nconvert.rgb.apple = function (rgb) {\n\treturn [(rgb[0] / 255) * 65535, (rgb[1] / 255) * 65535, (rgb[2] / 255) * 65535];\n};\n\nconvert.gray.rgb = function (args) {\n\treturn [args[0] / 100 * 255, args[0] / 100 * 255, args[0] / 100 * 255];\n};\n\nconvert.gray.hsl = function (args) {\n\treturn [0, 0, args[0]];\n};\n\nconvert.gray.hsv = convert.gray.hsl;\n\nconvert.gray.hwb = function (gray) {\n\treturn [0, 100, gray[0]];\n};\n\nconvert.gray.cmyk = function (gray) {\n\treturn [0, 0, 0, gray[0]];\n};\n\nconvert.gray.lab = function (gray) {\n\treturn [gray[0], 0, 0];\n};\n\nconvert.gray.hex = function (gray) {\n\tconst val = Math.round(gray[0] / 100 * 255) & 0xFF;\n\tconst integer = (val << 16) + (val << 8) + val;\n\n\tconst string = integer.toString(16).toUpperCase();\n\treturn '000000'.substring(string.length) + string;\n};\n\nconvert.rgb.gray = function (rgb) {\n\tconst val = (rgb[0] + rgb[1] + rgb[2]) / 3;\n\treturn [val / 255 * 100];\n};\n", "const conversions = require('./conversions');\n\n/*\n\tThis function routes a model to all other models.\n\n\tall functions that are routed have a property `.conversion` attached\n\tto the returned synthetic function. This property is an array\n\tof strings, each with the steps in between the 'from' and 'to'\n\tcolor models (inclusive).\n\n\tconversions that are not possible simply are not included.\n*/\n\nfunction buildGraph() {\n\tconst graph = {};\n\t// https://jsperf.com/object-keys-vs-for-in-with-closure/3\n\tconst models = Object.keys(conversions);\n\n\tfor (let len = models.length, i = 0; i < len; i++) {\n\t\tgraph[models[i]] = {\n\t\t\t// http://jsperf.com/1-vs-infinity\n\t\t\t// micro-opt, but this is simple.\n\t\t\tdistance: -1,\n\t\t\tparent: null\n\t\t};\n\t}\n\n\treturn graph;\n}\n\n// https://en.wikipedia.org/wiki/Breadth-first_search\nfunction deriveBFS(fromModel) {\n\tconst graph = buildGraph();\n\tconst queue = [fromModel]; // Unshift -> queue -> pop\n\n\tgraph[fromModel].distance = 0;\n\n\twhile (queue.length) {\n\t\tconst current = queue.pop();\n\t\tconst adjacents = Object.keys(conversions[current]);\n\n\t\tfor (let len = adjacents.length, i = 0; i < len; i++) {\n\t\t\tconst adjacent = adjacents[i];\n\t\t\tconst node = graph[adjacent];\n\n\t\t\tif (node.distance === -1) {\n\t\t\t\tnode.distance = graph[current].distance + 1;\n\t\t\t\tnode.parent = current;\n\t\t\t\tqueue.unshift(adjacent);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn graph;\n}\n\nfunction link(from, to) {\n\treturn function (args) {\n\t\treturn to(from(args));\n\t};\n}\n\nfunction wrapConversion(toModel, graph) {\n\tconst path = [graph[toModel].parent, toModel];\n\tlet fn = conversions[graph[toModel].parent][toModel];\n\n\tlet cur = graph[toModel].parent;\n\twhile (graph[cur].parent) {\n\t\tpath.unshift(graph[cur].parent);\n\t\tfn = link(conversions[graph[cur].parent][cur], fn);\n\t\tcur = graph[cur].parent;\n\t}\n\n\tfn.conversion = path;\n\treturn fn;\n}\n\nmodule.exports = function (fromModel) {\n\tconst graph = deriveBFS(fromModel);\n\tconst conversion = {};\n\n\tconst models = Object.keys(graph);\n\tfor (let len = models.length, i = 0; i < len; i++) {\n\t\tconst toModel = models[i];\n\t\tconst node = graph[toModel];\n\n\t\tif (node.parent === null) {\n\t\t\t// No possible conversion, or this node is the source model.\n\t\t\tcontinue;\n\t\t}\n\n\t\tconversion[toModel] = wrapConversion(toModel, graph);\n\t}\n\n\treturn conversion;\n};\n\n", "const conversions = require('./conversions');\nconst route = require('./route');\n\nconst convert = {};\n\nconst models = Object.keys(conversions);\n\nfunction wrapRaw(fn) {\n\tconst wrappedFn = function (...args) {\n\t\tconst arg0 = args[0];\n\t\tif (arg0 === undefined || arg0 === null) {\n\t\t\treturn arg0;\n\t\t}\n\n\t\tif (arg0.length > 1) {\n\t\t\targs = arg0;\n\t\t}\n\n\t\treturn fn(args);\n\t};\n\n\t// Preserve .conversion property if there is one\n\tif ('conversion' in fn) {\n\t\twrappedFn.conversion = fn.conversion;\n\t}\n\n\treturn wrappedFn;\n}\n\nfunction wrapRounded(fn) {\n\tconst wrappedFn = function (...args) {\n\t\tconst arg0 = args[0];\n\n\t\tif (arg0 === undefined || arg0 === null) {\n\t\t\treturn arg0;\n\t\t}\n\n\t\tif (arg0.length > 1) {\n\t\t\targs = arg0;\n\t\t}\n\n\t\tconst result = fn(args);\n\n\t\t// We're assuming the result is an array here.\n\t\t// see notice in conversions.js; don't use box types\n\t\t// in conversion functions.\n\t\tif (typeof result === 'object') {\n\t\t\tfor (let len = result.length, i = 0; i < len; i++) {\n\t\t\t\tresult[i] = Math.round(result[i]);\n\t\t\t}\n\t\t}\n\n\t\treturn result;\n\t};\n\n\t// Preserve .conversion property if there is one\n\tif ('conversion' in fn) {\n\t\twrappedFn.conversion = fn.conversion;\n\t}\n\n\treturn wrappedFn;\n}\n\nmodels.forEach(fromModel => {\n\tconvert[fromModel] = {};\n\n\tObject.defineProperty(convert[fromModel], 'channels', {value: conversions[fromModel].channels});\n\tObject.defineProperty(convert[fromModel], 'labels', {value: conversions[fromModel].labels});\n\n\tconst routes = route(fromModel);\n\tconst routeModels = Object.keys(routes);\n\n\trouteModels.forEach(toModel => {\n\t\tconst fn = routes[toModel];\n\n\t\tconvert[fromModel][toModel] = wrapRounded(fn);\n\t\tconvert[fromModel][toModel].raw = wrapRaw(fn);\n\t});\n});\n\nmodule.exports = convert;\n", "class Logger {\n  static forPrefix(stringOrFalse) {\n    if (!stringOrFalse) {\n      return new BufferedLogger()\n    }\n    else {\n      return new PrefixedLogger(stringOrFalse)\n    }\n  }\n  log() {\n    throw `Subclass must implement`\n  }\n\n  info(...args) { this.log(\"info\",...args) }\n  warn(...args) { this.log(\"warn\",...args) }\n}\n\nclass BufferedLogger extends Logger {\n  constructor() {\n    super()\n    this.messages = []\n  }\n  log(...args) {\n    this.messages.push(args)\n  }\n}\n\nclass PrefixedLogger extends Logger {\n  constructor(prefixOrTrue) {\n    super()\n    this.prefix = prefixOrTrue === true ? \"debug\" : prefixOrTrue\n  }\n\n  dump(bufferedLogger) {\n    if (bufferedLogger instanceof BufferedLogger) {\n      bufferedLogger.messages.forEach( (args) => {\n        this.log(...args)\n      })\n    }\n  }\n\n  log(level,...args) {\n    if (typeof(args[0]) === \"string\") {\n      const message = `[prefix:${this.prefix}]:${args[0]}`\n      console[level](message,...(args.slice(1)))\n    }\n    else {\n      console[level](this.prefix,...args)\n    }\n  }\n}\nexport default Logger\n", "export default class RichString {\n  static fromString(possiblyDefinedStringOrRichString) {\n    if (possiblyDefinedStringOrRichString instanceof RichString) {\n      return possiblyDefinedStringOrRichString\n    }\n    if (!possiblyDefinedStringOrRichString) {\n      return null\n    }\n    return new RichString(String(possiblyDefinedStringOrRichString))\n  }\n\n  constructor(string) {\n    if (typeof string !== \"string\") {\n      throw `You may only construct a RichString with a String, not a ${typeof string}`\n    }\n    this.string = string\n  }\n\n  capitalize() {\n    return new RichString(this.string.charAt(0).toUpperCase() + this.string.slice(1))\n  }\n  decapitalize() {\n    return new RichString(this.string.charAt(0).toLowerCase() + this.string.slice(1))\n  }\n\n  camelize() {\n    // Taken from camelize npm module\n    return RichString.fromString(this.string.replace(/[_.-](\\w|$)/g, function (_, x) {\n      return x.toUpperCase()\n    }))\n  }\n\n  humanize() {\n    return this.decamlize({spacer: \" \"}).capitalize()\n  }\n\n  decamlize({spacer=\"_\"} = {}) {\n    // Taken from decamelize NPM module\n\n    // Checking the second character is done later on. Therefore process shorter strings here.\n    if (this.string.length < 2) {\n      return new RichString(this.string.toLowerCase())\n    }\n\n    const replacement = `$1${spacer}$2`\n\n    // Split lowercase sequences followed by uppercase character.\n    // `dataForUSACounties` \u2192 `data_For_USACounties`\n    // `myURLstring \u2192 `my_URLstring`\n    const decamelized = this.string.replace(\n      /([\\p{Lowercase_Letter}\\d])(\\p{Uppercase_Letter})/gu,\n      replacement,\n    )\n\n    // Split multiple uppercase characters followed by one or more lowercase characters.\n    // `my_URLstring` \u2192 `my_ur_lstring`\n    return new RichString(decamelized.\n      replace(\n        /(\\p{Uppercase_Letter})(\\p{Uppercase_Letter}\\p{Lowercase_Letter}+)/gu,\n        replacement,\n      ).\n      toLowerCase()\n    )\n  }\n\n  toString() { return this.string }\n  toStringOrNull() {\n    if (this.string.trim() == \"\") {\n      return null\n    }\n    else {\n      return this.string\n    }\n  }\n\n}\n", "import Logger from \"../brutaldom/Logger\"\nimport RichString from \"../brutaldom/RichString\"\n\n/*\n * A base for autonomous custom elements that provides a few quality of life\n * improvements over building a custom element yourself.\n *\n * This element provides implementations for connectedCallback, attributeChangedCallback,\n * and disconnectedCallback (adoptedCallback is not defined as I have no idea when it is called \n * or what it is for and I have read the spec and I don't get it, but if you do, please reach out).\n * It also provides a static method named `define` that registers this element\n * with the CustomElementRegistry as returned by `customElements`.\n *\n * Features:\n *\n * * instead of implement attributeChangedCallback, you implement a method for each attribute\n *   you have specified in observedAttributes. You must declare observedAttributes in your class,\n *   but then provide `\u00ABattributeCamelCase\u00BBChangedCallBack`.  See attributeChangedCallback for details\n * * This class provides an attribute called `this.logger` to use in logging warnings.  By default,\n *   the warnings are not shown.  If your subclass as `show-warnings` in its `observedAttributes`\n *   then setting this value will show warnings in the console. The purpose of this is to allow a way\n *   to print to the console when an element isn't being used properly so when the element doesnt' do\n *   anything, you can figure out why in the console.  But, by default, nothing is printed because that's\n *   what elements do.\n * * Calls a method named `render` whenever needed. This method is implemented by you and is expected to\n *   do whatever is needed basd on the current state of the element.  For example, when an attribute is changed,\n *   that change presumably affects something inside your element, so `render` is called and you can update\n *   the element as needed.\n * * overrides disconnectedCallback to set a flag that the element is disconnected. This can be used\n *   to prevent taking actions that wouldn't make sense on a disconnected element.\n *\n *\n * Conventions:\n *\n * * A custom element has many different APIS:\n *   - The HTML attributes and their values\n *   - events they dispatch\n *   - internal state\n *   - methods called by the browser\n *   - private methods of this class that should not be called\n * * All HTML attributes' values are strings, but internal state doesn't have to store them that way\n * * Internal state should be implement as either attributes or via get\n * * APIs for setting internal state are discouraged - this should be done via attributes and events\n * * Methods called by the browser are implemented as defined (obviously\u2014they have to be)\n * * Private methods or data of this class that should not be called start with two underscores. Do not access, call, or change these.\n *\n */\nexport default class BaseCustomElement extends HTMLElement {\n  constructor() {\n    super()\n    this.logger = Logger.forPrefix(null)\n  }\n\n  static define() {\n    if (!this.tagName) {\n      throw `To use BaseCustomElement, you must define the static member tagName to return your custom tag's name`\n    }\n    customElements.define(this.tagName, this)\n  }\n\n  showWarningsChangedCallback({oldValue,newValue}) {\n    let oldLogger\n    if (!oldValue && newValue) {\n      oldLogger = this.logger\n    }\n    const prefix = newValue == \"\" ? this.id : newValue\n    this.logger = Logger.forPrefix(prefix)\n    if (oldLogger) {\n      this.logger.dump(oldLogger)\n    }\n  }\n\n  /*\n   * When called by the browser, calls a method you define based on the name of the attribute.\n   * Override this if you want to provide your own implementation, which you probably don't.\n   *\n   * Attribute names are assumed to be in kebab-case and are translated to camelCase to create a method name.\n   * That method is `\u00ABattributeInCamelCase\u00BBChangedCallback`, so if your attribute is `hex-code`,\n   * a method named `hexCodeChangedCallback` in invoked.  If no such method is defined, a\n   * warning is logged in the console, regardless of the `show-warnings` attribute.\n   *\n   * The method is invoked with `{oldValue,newValue}` - i.e. an object and not positional parameters. This \n   * means your implementation can omit any parameters it doesn't care about.\n   *\n   * The return value of the method is ignored.\n   *\n   * After your method is called, if there is a method named `render`, it is called with no arguments.\n   *\n   */\n  attributeChangedCallback(name,oldValue,newValue) {\n    const callbackName = `${new RichString(name).camelize()}ChangedCallback`\n    if (this[callbackName]) {\n      this[callbackName]({oldValue,newValue})\n    }\n    else if (this.constructor.observedAttributes.indexOf(name) != -1) {\n      console.warn(\"Observing %s but no method named %s was found to handle it\",name,callbackName)\n    }\n    this.__render()\n  }\n  \n  /** Sets a flag that the component was disconnected, clears the connected flag ,if set, and\n   * calls `onDisconnected` if that method is defined.\n   * Override this to opt-out of this behavior.\n   */\n  disconnectedCallback() {\n    this.__disconnected = true\n    this.__connected = false\n    if (this.onDisconnected) {\n      this.onDisconnected()\n    }\n  }\n\n  /**\n   * Sets a flag that the component has connected and clears the disconnected flag, if set.\n   * If onConnected() is defined, that method is called.  If render() is defined, that method is called as well.\n   */\n  connectedCallback() {\n    this.__connected = true\n    this.__disconnected = false\n    if (this.onConnected) {\n      this.onConnected()\n    }\n    this.__render()\n  }\n\n  get isConnected() { return !!this.__connected }\n\n  __render() {\n    if (this.__disconnected) {\n      return\n    }\n    if (this.render) {\n      this.render()\n    }\n  }\n}\n", "import colorConvert from \"color-convert\"\n\nimport NotValidHexCode from \"./NotValidHexCode\"\n\nclass Color {\n\n  static HEX_REGEXP = new RegExp(\"^(#)?([a-fA-F0-9]{6})$\")\n\n  static fromHexCode(hexCode, {onError = \"throw\" } = {}) {\n    if (hexCode) {\n      try {\n        return new Color(hexCode)\n      }\n      catch (e) {\n        if (e instanceof Error) {\n          if (onError == \"return\") {\n            return null\n          }\n        }\n        throw e\n      }\n    }\n    else {\n      return null\n    }\n  }\n\n  static fromHSL(h,s,l) {\n    return new Color(colorConvert.hsl.hex(h,s,l))\n  }\n\n  static fromRGB(r,g,b) {\n    return new Color(colorConvert.rgb.hex(parseInt(r),parseInt(g),parseInt(b)))\n  }\n\n  static random() {\n    return Color.fromRGB(\n      Math.floor(Math.random() * 256),\n      Math.floor(Math.random() * 256),\n      Math.floor(Math.random() * 256),\n    )\n  }\n\n  constructor(hexCodeAsString) {\n    if (!hexCodeAsString) {\n      throw new TypeError(\"Color must be given a hex code\")\n    }\n    const matches = hexCodeAsString.match(Color.HEX_REGEXP)\n    if (!matches) {\n      throw new NotValidHexCode(hexCodeAsString)\n    }\n    const [_matches, _hash, hexCode] = matches\n    this.hex = `#${hexCode}`.toUpperCase()\n  }\n\n  luminance() {\n    // https://www.w3.org/TR/WCAG21/#dfn-relative-luminance\n    const [r8Bit,g8Bit,b8Bit] = colorConvert.hex.rgb(this.hex)\n\n    const rsRGB = r8Bit / 255\n    const gsRGB = g8Bit / 255\n    const bsRGB = b8Bit / 255\n\n    const r = rsRGB < 0.04045 ? rsRGB / 12.92 : Math.pow( ((rsRGB+0.055)/1.055), 2.4)\n    const g = gsRGB < 0.04045 ? gsRGB / 12.92 : Math.pow( ((gsRGB+0.055)/1.055), 2.4)\n    const b = bsRGB < 0.04045 ? bsRGB / 12.92 : Math.pow( ((bsRGB+0.055)/1.055), 2.4)\n\n    return (0.2126 * r) + \n           (0.7152 * g) + \n           (0.0722 * b)\n  }\n\n  contrast(otherColor) {\n    // https://www.w3.org/TR/WCAG21/#dfn-contrast-ratio\n    let l1 = this.luminance()\n    let l2 = otherColor.luminance()\n\n    if (l1 < l2) {\n      const swap = l1\n      l1 = l2\n      l2 = swap\n    }\n\n    return (l1 + 0.05) / (l2 + 0.05)\n  }\n\n\n  hsl() {\n    return colorConvert.hex.hsl.raw(this.hex)\n  }\n  lab() {\n    return colorConvert.hex.lab.raw(this.hex)\n  }\n\n  hexCode() {\n    return this.hex\n  }\n}\nexport default Color\n", "export default class NotValidHexCode extends Error {\n  constructor(hexCodeValue) {\n    super(`'${hexCodeValue}' is not a vaid hex code`)\n  }\n}\n", "import BaseCustomElement from \"../brutaldom/BaseCustomElement\"\nimport Color from \"../Color\"\n\nexport default class ColorNameComponent extends BaseCustomElement {\n\n  static tagName = \"g-color-name\"\n  static observedAttributes = [\n    \"color-swatch\",\n    \"show-warnings\",\n  ]\n\n  static NAMES_BASED_ON_HUE = [\n    [ \"Red\"    , [ 0   , 21  ] ] ,\n    [ \"Orange\" , [ 21  , 41  ] ] ,\n    [ \"Yellow\" , [ 41  , 74  ] ] ,\n    [ \"Green\"  , [ 74  , 167 ] ] ,\n    [ \"Blue\"   , [ 167 , 257 ] ] ,\n    [ \"Purple\" , [ 257 , 333 ] ] ,\n    [ \"Red\"    , [ 333 , 360 ] ] ,\n  ]\n\n\n  constructor() {\n    super()\n    this.updateNameEventListener = () => {\n      this.render()\n    }\n    this.inputChangeListener = (event) => {\n      const value = event.target.value\n      if (value && String(value).trim() != \"\") {\n        event.target.dataset.userOverride = true\n        this.dispatchEvent(new CustomEvent(\"name-change\", { cancelable: false, bubbles: true }))\n      }\n      else {\n        delete event.target.dataset.userOverride\n        this.dispatchEvent(new CustomEvent(\"name-cleared\", { cancelable: false, bubbles: true }))\n      }\n      this.render()\n    }\n  }\n\n  onDisconnected() {\n    if (this.colorSwatch) {\n      this.colorSwatch.removeEventListener(\"hex-code-change\",this.updateNameEventListener)\n    }\n    if (this.input) {\n      this.input.removeEventListener(\"change\",this.inputChangeListener)\n    }\n  }\n\n  colorSwatchChangedCallback({newValue}) {\n    const component = document.getElementById(newValue)\n    if (component != this.colorSwatch) {\n      if (this.colorSwatch) {\n        this.colorSwatch.removeEventListener(\"hex-code-change\",this.updateNameEventListener)\n      }\n      if (component) {\n        this.updateNameEventListener.id = `listener-${this.id}`\n        component.addEventListener(\"hex-code-change\",this.updateNameEventListener)\n      }\n    }\n    this.colorSwatch = component\n  }\n\n  _input() {\n    const inputs = this.querySelectorAll(\"input[type=text]\")\n    if (inputs.length > 1) {\n      this.logger.warn(\"There is more than one input - only the first one found will be used\")\n    }\n    return inputs[0]\n  }\n\n  render() {\n    const input = this._input()\n    if (this.input != input) {\n      if (this.input) {\n        this.input.removeEventListener(\"change\",this.inputChangeListener)\n      }\n      if (input) {\n        input.addEventListener(\"change\",this.inputChangeListener)\n      }\n      this.input = input\n    }\n\n    if (input && !input.dataset.userOverride) {\n      if (this.colorSwatch && this.colorSwatch.hexCode) {\n        input.value = this._name(this.colorSwatch.hexCode)\n      }\n    }\n  }\n\n  get name() {\n    const input = this._input()\n    if (input) {\n      return input.value\n    }\n    else {\n      return null\n    }\n\n  }\n\n  get userOverride() {\n    const input = this._input()\n    if (input) {\n      return input.dataset.userOverride\n    }\n    else {\n      return false\n    }\n  }\n\n  overrideColorName(newName) {\n    const input = this._input()\n    if (input) {\n      input.dataset.userOverride = true\n      input.value = newName\n    }\n  }\n  restoreDefaultColorName() {\n    const input = this._input()\n    if (input) {\n      delete input.dataset.userOverride\n      input.value = \"\"\n      this.render()\n    }\n  }\n\n\n  _name(hexCode) {\n    const [hue,saturation,l] = Color.fromHexCode(hexCode).hsl()\n    if (isNaN(hue) || (saturation == 0)) {\n      return \"Gray\"\n    }\n    const nameEntry = this.constructor.NAMES_BASED_ON_HUE.find( ([name,[low,high]]) => {\n      if ((hue >= low) && (hue <= high)) {\n        return true\n      }\n    })\n    if (!nameEntry) {\n      throw `Something is wrong: ${hexCode}'s hue of '${hue}' was not in namesBasedOnHue`\n    }\n    return nameEntry[0]\n  }\n}\n", "import Color from \"../Color\"\n\nexport default class BaseDerivation {\n  hsl(hexCode) {\n    return Color.fromHexCode(hexCode).hsl()\n  }\n\n  hexCode(h,s,l) {\n    return Color.fromHSL(h,s,l).hexCode()\n  }\n}\n", "import BaseDerivation from \"./BaseDerivation\"\n\nexport default class BrightnessDerivation extends BaseDerivation {\n  derive(hexCode, options={}) {\n    if (options.darken && !isNaN(options.darken)) {\n      return this.darken(hexCode,options.darken)\n    }\n    else if (options.brighten && !isNaN(options.brighten)) {\n      return this.brighten(hexCode,options.brighten)\n    }\n    else {\n      return hexCode\n    }\n  }\n\n  darken(hexCode,darken) {\n    const [h,s,l] = this.hsl(hexCode)\n\n    const distance = l\n    const percent = darken / 100\n    const decrease = distance * percent\n    const newL = l - decrease\n    return this.hexCode(h,s,newL)\n  }\n\n  brighten(hexCode,brighten) {\n    const [h,s,l] = this.hsl(hexCode)\n\n    const distance = 100 - l\n    const percent = brighten / 100\n    const increase = distance * percent\n    const newL = l + increase\n    return this.hexCode(h,s,newL)\n  }\n}\n", "import BaseDerivation from \"./BaseDerivation\"\n\nexport default class ComplementaryDerivation extends BaseDerivation {\n  derive(hexCode,options={}) {\n    const [h,s,l] = this.hsl(hexCode)\n    const newH = (h + 180) % 360\n    return this.hexCode(newH,s,l)\n  }\n  get humanName() { return \"Complement\" }\n}\n", "import BaseDerivation from \"./BaseDerivation\"\n\nclass AnalogousUpperDerivation extends BaseDerivation {\n  derive(hexCode,options={}) {\n    const [h,s,l] = this.hsl(hexCode)\n    const newH = (h + 330)  % 360\n\n    return this.hexCode(newH,s,l)\n  }\n  get humanName() { return \"Analogous\" }\n}\n\nclass AnalogousLowerDerivation extends BaseDerivation {\n  derive(hexCode,options={}) {\n    const [h,s,l] = this.hsl(hexCode)\n    const newH = (h + 30)  % 360\n\n    return this.hexCode(newH,s,l)\n  }\n  get humanName() { return \"Analogous\" }\n}\nexport {\n  AnalogousLowerDerivation,\n  AnalogousUpperDerivation,\n}\n", "import BaseDerivation from \"./BaseDerivation\"\nimport ComplementaryDerivation from \"./ComplementaryDerivation\"\nimport { AnalogousUpperDerivation, AnalogousLowerDerivation } from \"./AnalogousDerivation\"\n\nclass SplitComplementaryUpperDerivation extends BaseDerivation {\n  constructor() {\n    super()\n    this.complementary = new ComplementaryDerivation()\n    this.analogousUpper = new AnalogousUpperDerivation()\n  }\n\n  derive(hexCode,options={}) {\n    return this.analogousUpper.derive(this.complementary.derive(hexCode))\n  }\n  get humanName() { return \"Splt. Comp.\" }\n}\n\nclass SplitComplementaryLowerDerivation extends BaseDerivation {\n  constructor() {\n    super()\n    this.complementary = new ComplementaryDerivation()\n    this.analogousLower = new AnalogousLowerDerivation()\n  }\n\n  derive(hexCode,options={}) {\n    return this.analogousLower.derive(this.complementary.derive(hexCode))\n  }\n  get humanName() { return \"Splt. Comp.\" }\n}\nexport {\n  SplitComplementaryLowerDerivation,\n  SplitComplementaryUpperDerivation,\n}\n", "import BaseDerivation from \"./BaseDerivation\"\n\nclass TriadUpperDerivation extends BaseDerivation {\n  derive(hexCode,options={}) {\n    const [h,s,l] = this.hsl(hexCode)\n    const newH = (h + 120)  % 360\n\n    return this.hexCode(newH,s,l)\n  }\n  get humanName() { return \"Triad\" }\n}\n\nclass TriadLowerDerivation extends BaseDerivation {\n  derive(hexCode,options={}) {\n    const [h,s,l] = this.hsl(hexCode)\n    const newH = (h + 240)  % 360\n\n    return this.hexCode(newH,s,l)\n  }\n  get humanName() { return \"Triad\" }\n}\nexport {\n  TriadLowerDerivation,\n  TriadUpperDerivation,\n}\n", "import BrightnessDerivation from \"./BrightnessDerivation\"\nimport ComplementaryDerivation from \"./ComplementaryDerivation\"\nimport {\n  SplitComplementaryUpperDerivation,\n  SplitComplementaryLowerDerivation,\n} from \"./SplitComplementaryDerivation\"\nimport {\n  AnalogousUpperDerivation,\n  AnalogousLowerDerivation,\n} from \"./AnalogousDerivation\"\nimport {\n  TriadUpperDerivation,\n  TriadLowerDerivation,\n} from \"./TriadDerivation\"\n\nexport default class DerivationAlgorithm {\n  static fromString(string, { throwOnUnknown=false } = {}) {\n    if (string instanceof DerivationAlgorithm) {\n      return string\n    }\n    else if (string == \"brightness\") {\n      return new BrightnessDerivation()\n    }\n    else if (string == \"complement\") {\n      return new ComplementaryDerivation()\n    }\n    else if (string == \"split-complement-lower\") {\n      return new SplitComplementaryLowerDerivation()\n    }\n    else if (string == \"split-complement-upper\") {\n      return new SplitComplementaryUpperDerivation()\n    }\n    else if (string == \"analogous-lower\") {\n      return new AnalogousLowerDerivation()\n    }\n    else if (string == \"analogous-upper\") {\n      return new AnalogousUpperDerivation()\n    }\n    else if (string == \"triad-lower\") {\n      return new TriadLowerDerivation()\n    }\n    else if (string == \"triad-upper\") {\n      return new TriadUpperDerivation()\n    }\n    else {\n      if (throwOnUnknown) {\n        throw `No such DerivationAlgorithm '${string}'`\n      }\n      else {\n        return null\n      }\n    }\n  }\n}\n", "import BaseCustomElement from \"../brutaldom/BaseCustomElement\"\nimport DerivationAlgorithm from \"../derivations/DerivationAlgorithm\"\n\nexport default class ColorSwatchComponent extends BaseCustomElement {\n\n  static tagName = \"g-color-swatch\"\n  static observedAttributes = [\n    \"hex-code\",\n    \"derived-from\",\n    \"derivation-algorithm\",\n    \"darken-by\",\n    \"brighten-by\",\n    \"show-warnings\",\n    \"default-link-context\",\n  ]\n\n  constructor() {\n    super()\n    this.onInputChangeCallback = (event) => {\n      this.setAttribute(\"hex-code\",event.target.value)\n    }\n    this.onDerivedElementChangeCallback = (event) => {\n      if (event.target != this.derivedFromElement) {\n        this.logger.warn(\"Got an event from not our derived\")\n      }\n      this._deriveHexCodeFromSwatch(event.target)\n    }\n    this.derivationAlgorithm = DerivationAlgorithm.fromString(\"brightness\", { throwOnUnknown: true })\n  }\n\n  hexCodeChangedCallback({newValue}) {\n    this.hexCode = newValue\n    this._dispatchHexcodeChanged()\n  }\n\n  derivedFromChangedCallback({newValue}) {\n    if (this.derivedFromElement) {\n      this.derivedFromElement.removeEventListener(this.hexCodeChangedEventName,this.onDerivedElementChangeCallback)\n    }\n    this.derivedFromId = newValue\n  }\n\n  defaultLinkContextChangedCallback({newValue}) {\n    this.defaultLinkContext = newValue\n  }\n\n  darkenByChangedCallback({newValue}) {\n    this.darkenBy = newValue\n    this._updateDerivationifNeeded({ whenHexCodeExists: true })\n  }\n\n  brightenByChangedCallback({newValue}) {\n    this.brightenBy = newValue\n    this._updateDerivationifNeeded({ whenHexCodeExists: true })\n  }\n\n  derivationAlgorithmChangedCallback({newValue}) {\n    this.derivationAlgorithm = DerivationAlgorithm.fromString(newValue)\n    if (this.derivationAlgorithm) {\n      this._updateDerivationifNeeded({ whenHexCodeExists: true })\n    }\n    else if (!!newValue) {\n      this.logger.warn(\"derivation-algorithm '%s' is not valid\",newValue)\n    }\n  }\n\n  _eachInput(f) {\n    const elements = this.querySelectorAll(\"input\")\n    elements.forEach(f)\n    return elements.length\n  }\n  _eachDataColor(f) {\n    const elements = this.querySelectorAll(\"[data-color]\")\n    elements.forEach(f)\n    return elements.length\n  }\n\n  _eachCodeElementInsideRelevantLabel(f) {\n    this.querySelectorAll(\"label\").forEach( (label) => {\n      let input\n      if (label.htmlFor) {\n        input = this.querySelector(`[id=${label.htmlFor}][type=color]`)\n      }\n      else {\n        input = label.querySelector(\"input[type=color]\")\n      }\n      if (input) {\n        let code = label.querySelector(\"code\")\n        if (!code) {\n          code = document.createElement(\"code\")\n          label.appendChild(code)\n        }\n        f(code)\n      }\n      else {\n        this.logger.warn(`Orphaned label inside the element does not wrap nor reference a color input inside the element: %o`,label)\n      }\n    })\n    this.querySelectorAll(\"[data-hexcode]\").forEach( (hexCode) => {\n      let code = hexCode.querySelector(\"code\")\n      if (!code) {\n        code = document.createElement(\"code\")\n        hexCode.appendChild(code)\n      }\n      f(code)\n    })\n  }\n\n  render() {\n    const numInputs = this._eachInput( (element) => {\n      element.value = this.hexCode\n      element.addEventListener(\"change\", this.onInputChangeCallback)\n      const disabled = element.getAttributeNames().indexOf(\"disabled\") != -1\n      if (!disabled) {\n        if (this.derivedFromId) {\n          this.logger.warn(\"derived-from-id is set, but an enabled input was detected: %o\",element)\n        }\n      }\n    })\n    const numDataColors = this._eachDataColor( (element) => {\n      element.style.backgroundColor = this.hexCode\n    })\n\n    if ( (numDataColors == 0) && (numInputs == 0) ) {\n      this.logger.warn(\"There were no <input type=color> nor [data-color] elements found\")\n    }\n    this._eachLinkContext( (element) => {\n      if (this.defaultLinkContext) {\n        element.textContent = this.defaultLinkContext\n      }\n      else {\n        element.innerHTML = \"&nbsp;\" \n      }\n    })\n    if (this.derivedFromId) {\n      this._updateDerivationifNeeded({ whenHexCodeExists: false })\n    }\n    if (this.hexCode) {\n      this._eachCodeElementInsideRelevantLabel( (codeElement) => {\n        codeElement.textContent = this.hexCode\n      })\n    }\n    else {\n      this._eachCodeElementInsideRelevantLabel( (codeElement) => {\n        codeElement.textContent = \"\"\n      })\n    }\n  }\n\n  _deriveHexCodeFromSwatch(element) {\n    let hexCode = element.hexCode\n    if (hexCode) {\n      this._deriveHexCodeFrom(hexCode)\n    }\n    else {\n      this.logger.warn(\"No hexcode on the derived element: %o\",event.target)\n      this.removeAttribute(\"hex-code\")\n    }\n  }\n\n  _deriveHexCodeFrom(hexCode) {\n\n    const darken   = this.darkenBy ? parseInt(this.darkenBy) : null\n    const brighten = this.brightenBy ? parseInt(this.brightenBy) : null\n\n    if (this.derivationAlgorithm) {\n      hexCode = this.derivationAlgorithm.derive(hexCode,{darken: darken, brighten: brighten})\n    }\n    this.setAttribute(\"hex-code\",hexCode)\n  }\n\n  _eachLinkContext(f) {\n    this.querySelectorAll(\"[data-link-context]\").forEach(f)\n  }\n\n  get derivedFromElement() {\n    return document.getElementById(this.derivedFromId)\n  }\n\n  _updateDerivationifNeeded({whenHexCodeExists}) {\n    const derivedFromElement = this.derivedFromElement\n    const hexCodeExists = !!this.hexCode\n\n    if (derivedFromElement) {\n      if (derivedFromElement.tagName.toLowerCase() == this.constructor.tagName) {\n        derivedFromElement.addEventListener(this.hexCodeChangedEventName,this.onDerivedElementChangeCallback)\n        if ( (derivedFromElement.hexCode) && (whenHexCodeExists == hexCodeExists) ) {\n          this._deriveHexCodeFrom(derivedFromElement.hexCode)\n        }\n        this._eachLinkContext( (element) => element.textContent = this.derivationAlgorithm.humanName )\n      }\n      else {\n        this.logger.warn(\"Derived element has id '%s', but this is a %s, not a %s\",this.derivedFromId,derivedFromElement.tagName,this.constructor.tagName)\n      }\n    }\n  }\n\n  get hexCodeChangedEventName() { return \"hex-code-change\" }\n\n  _dispatchHexcodeChanged() {\n    this.dispatchEvent(new CustomEvent(this.hexCodeChangedEventName, { cancelable: false, bubbles: true }))\n  }\n\n\n  get forTesting() {\n    return {\n      dispatchHexCodeChanged: () => {\n        this._dispatchHexcodeChanged()\n      }\n    }\n  }\n}\n", "export default class BaseGradient {\n  get isFallback() { return false }\n  valueFor() {\n    throw \"Subclass must implement\"\n  }\n}\n", "import BaseGradient from \"./BaseGradient\"\n\nexport default class LinearGradient extends BaseGradient {\n  valueFor(index,numSwatches) {\n    const middle = (numSwatches - 1) / 2\n    if (index < middle) {\n      const step = index\n      const totalSteps = middle\n      const min = 40\n      const max = 80\n\n      let percentAlongRange = step / (totalSteps - 1)\n      if (isNaN(percentAlongRange)) {\n        percentAlongRange = 0\n      }\n      const percentage = Math.floor(max - (percentAlongRange * (max - min)))\n\n      return [ \"darken-by\", percentage ]\n    }\n    else {\n      const step = (numSwatches - 1) - index\n      const totalSteps = middle\n      const min = 30\n      const max = 90\n\n      let percentAlongRange = step / (totalSteps - 1)\n      if (isNaN(percentAlongRange)) {\n        percentAlongRange = 0\n      }\n      const percentage = Math.floor(max - (percentAlongRange * (max - min)))\n      return [ \"brighten-by\", percentage ]\n    }\n  }\n}\n", "import BaseGradient from \"./BaseGradient\"\n\nexport default class ExponentialGradient extends BaseGradient {\n  valueFor(index,numSwatches) {\n    const middle = (numSwatches - 1) / 2\n    const step = index + 1\n    const adjustedMiddle = middle + 1\n    const adjustedStep = step - adjustedMiddle\n    const percentAlongRange = adjustedStep / adjustedMiddle\n    \n    const percentage = this._quarticBabyYeah(percentAlongRange)\n\n    if (index < middle) {\n      return [ \"darken-by\", -1 * percentage ]\n    }\n    else {\n      return [ \"brighten-by\", percentage ]\n    }\n  }\n\n  _quarticBabyYeah(x) {\n    /*\n     * https://mycurvefit.com\n       -0.75               -90        \n       -0.5                -60        \n       -0.25               -40        \n        0                    0        \n        0.25                60        \n        0.5                 80        \n        0.75                98\n    const a =    4.0692\n    const b =  175.3016\n    const c =   51.8788\n    const d =  -92.4444\n    const e =  -93.0909\n    */\n\n    let a =    7.990513\n    let b = 173.3344\n    let c = -3.832653\n    let d = -88.37532\n    let e = 0\n    return  a                  +\n           (b * x)             +\n           (c * Math.pow(x,2)) +\n           (d * Math.pow(x,3)) +\n           (e * Math.pow(x,4))\n  }\n\n}\n", "import BaseGradient from \"./BaseGradient\"\nexport default class NoGradient extends BaseGradient {\n  get isFallback() { return true }\n  valueFor() {\n    return []\n  }\n}\n\n", "import LinearGradient      from \"./LinearGradient\"\nimport ExponentialGradient from \"./ExponentialGradient\"\nimport NoGradient          from \"./NoGradient\"\n\nexport default class ColorScale {\n  static fromString(string) {\n    if (string == \"linear\") {\n      return new LinearGradient()\n    }\n    if (string == \"exponential\") {\n      return new ExponentialGradient()\n    }\n    return new NoGradient()\n  }\n}\n", "import BaseCustomElement from \"../brutaldom/BaseCustomElement\"\n\nimport ColorNameComponent   from \"./ColorNameComponent\"\nimport ColorSwatchComponent from \"./ColorSwatchComponent\"\nimport ColorScale           from \"../color-scales/ColorScale\"\nimport Color                from \"../Color\"\n\nclass SpecialButtons {\n  constructor(parentElement, selector, clickListener) {\n    this.parentElement = parentElement\n    this.selector = selector\n    this.clickListener = clickListener\n  }\n  enable()  { this.forEach( (e) => e.removeAttribute(\"disabled\")   ) }\n  disable() { this.forEach( (e) => e.setAttribute(\"disabled\",true) ) }\n  addEventListeners() {\n    this.forEach( (e) => e.addEventListener(\"click\", this.clickListener) )\n  }\n  forEach(f) {\n    return this.parentElement.querySelectorAll(this.selector).forEach(f)\n  }\n\n  dispatchEvent(name,detail) {\n    return this.parentElement.dispatchEvent(\n      new CustomEvent(name,{ bubbles: true, cancelable: true, detail: detail })\n    )\n  }\n}\n\nclass PreviewButtons extends SpecialButtons {\n  constructor(parentElement) {\n    super(parentElement,\"[data-preview]\",() => {\n      const detail = {\n        colorName: parentElement.colorName,\n        colorNameUserOverride: parentElement.colorNameUserOverride,\n        colorScale: parentElement.colorScale,\n        baseColor: parentElement.baseColorSwatch.hexCode,\n      }\n      this.dispatchEvent(\"preview-scale\", detail)\n    })\n  }\n}\n\nclass UnlinkButtons extends SpecialButtons  {\n  constructor(parentElement) {\n    super(parentElement,\"[data-unlink]\",() => {\n      parentElement.removeAttribute(\"linked-to-primary\")\n      if (parentElement.baseColorSwatch) {\n        parentElement.baseColorSwatch.removeAttribute(\"derived-from\")\n        parentElement.baseColorSwatch.removeAttribute(\"derivation-algorithm\")\n        parentElement.baseColorSwatch.querySelectorAll(\"input[type=color][disabled]\").forEach( (input) => {\n          input.removeAttribute(\"disabled\")\n        })\n      }\n      this.dispatchEvent(\"unlink-from-primary\")\n    })\n  }\n}\n\nclass RemoveButtons extends SpecialButtons {\n  constructor(parentElement) {\n    super(parentElement,\"[data-remove]\",() => {\n      parentElement.parentElement.removeChild(parentElement)\n      this.dispatchEvent(\"remove-scale\")\n    })\n  }\n}\n\nexport default class PaletteColorComponent extends BaseCustomElement {\n  static tagName = \"g-palette-color-scale\"\n  static observedAttributes = [\n    \"primary\",\n    \"linked-to-primary\",\n    \"scale-algorithm\",\n    \"show-warnings\",\n  ]\n\n  constructor() {\n    super()\n\n    this.previewButtons = new PreviewButtons(this)\n    this.unlinkButtons = new UnlinkButtons(this)\n    this.removeButtons = new RemoveButtons(this)\n\n    this.baseColorChangedEventHandler = (event) => {\n      if (!this.linkedPrimaryAlgorithm) {\n        this.dispatchEvent(new CustomEvent(\"base-color-changed\", { cancelable: false, bubbles: true }))\n      }\n    }\n\n  }\n\n  primaryChangedCallback({newValue}) {\n    this.isPrimary = String(newValue) === \"\"\n    if ( (newValue != \"\") && (newValue != null) ){\n      this.logger.warn(\"primary should either be present or omitted, not '%s'\",newValue)\n    }\n  }\n\n  linkedToPrimaryChangedCallback({newValue}) {\n    this.linkedPrimaryAlgorithm = newValue\n  }\n\n  scaleAlgorithmChangedCallback({newValue}) {\n    this.scaleAlgorithm = newValue\n  }\n\n  render() {\n    this._configureButtons()\n    this._configureLink()\n    this._configureScale()\n  }\n\n  get swatches() {\n    return this.querySelectorAll(ColorSwatchComponent.tagName)\n  }\n\n  get baseColorSwatch() {\n    const middle = (this.swatches.length - 1) / 2\n\n    return this.swatches[middle]\n  }\n\n  _configureScale() {\n    let id = this.baseColorSwatch.id\n    if (!id) {\n      id = `${ColorSwatchComponent.tagName}-${crypto.randomUUID()}-generated`\n      this.baseColorSwatch.id = id\n    }\n    \n    if (this.linkedPrimaryElement) {\n      if (this.linkedPrimaryElement.baseColorSwatch) {\n        this.baseColorSwatch.setAttribute(\"derived-from\",this.linkedPrimaryElement.baseColorSwatch.id)\n        if (this.linkedPrimaryAlgorithm) {\n          this.baseColorSwatch.setAttribute(\"derivation-algorithm\",this.linkedPrimaryAlgorithm)\n        }\n      }\n      else {\n        this.logger.warn(\"Linked g-palette-color-scale (%s) has no base color, so we cannot link to it\",this.linkedPrimaryElement.id)\n      }\n    }\n\n    const algorithm = ColorScale.fromString(this.scaleAlgorithm)\n\n    if (algorithm.isFallback && this.scaleAlgorithm) {\n      this.logger.warn(`No such algorithm for derive-color-scale '${this.scaleAlgorithm}'`)\n    }\n    this.swatches.forEach( (swatch,index,array) => {\n      if (swatch != this.baseColorSwatch) {\n        if (!swatch.getAttribute(\"derived-from\")) {\n          swatch.setAttribute(\"derived-from\",id)\n        }\n        if (!swatch.getAttribute(\"derivation-algorithm\")) {\n          swatch.setAttribute(\"derivation-algorithm\",\"brightness\")\n        }\n        const [ attribute, value ] = algorithm.valueFor(index,array.length)\n        if (attribute && !swatch.getAttribute(attribute)) {\n          swatch.setAttribute(attribute,`${Math.floor(value)}%`)\n        }\n      }\n    })\n    this.baseColorSwatch.addEventListener(\"hex-code-change\",this.baseColorChangedEventHandler)\n  }\n\n  _configureButtons() {\n    if (this.isPrimary) {\n      this.previewButtons.enable()\n      this.unlinkButtons.disable()\n      this.removeButtons.disable()\n    }\n    else if ( this.linkedPrimaryAlgorithm ){\n      this.previewButtons.enable()\n      this.unlinkButtons.enable()\n      this.removeButtons.enable()\n    }\n    else {\n      this.previewButtons.enable()\n      this.unlinkButtons.disable()\n      this.removeButtons.enable()\n    }\n    this.previewButtons.addEventListeners()\n    this.unlinkButtons.addEventListeners()\n    this.removeButtons.addEventListeners()\n  }\n\n  _configureLink() {\n    if (this.linkedPrimaryAlgorithm) {\n      this.linkedPrimaryElement = this.parentElement ? this.parentElement.querySelector(`${this.constructor.tagName}[primary]`) : null\n      if (!this.linkedPrimaryElement) {\n        if (this.parentElement) {\n          this.logger.warn(\"linked-to-primary had a value ('%s') but no sibling is marked as primary\",this.linkedPrimaryAlgorithm)\n        }\n        else {\n          this.logger.warn(\"linked-to-primary had a value ('%s') but we have no parent element\",this.linkedPrimaryAlgorithm)\n        }\n      }\n    }\n  }\n\n  get colorName() {\n    const colorName = this.querySelector(ColorNameComponent.tagName)\n    if (colorName) {\n      return colorName.name\n    }\n    else {\n      return null\n    }\n  }\n\n  overrideColorName(newName) {\n    const colorName = this.querySelector(ColorNameComponent.tagName)\n    if (colorName) {\n      colorName.overrideColorName(newName)\n    }\n  }\n  restoreDefaultColorName() {\n    const colorName = this.querySelector(ColorNameComponent.tagName)\n    if (colorName) {\n      colorName.restoreDefaultColorName()\n    }\n  }\n\n  get colorNameUserOverride() {\n    const colorName = this.querySelector(ColorNameComponent.tagName)\n    return colorName && colorName.userOverride\n  }\n\n  get colorScale() {\n    return Array.from(this.querySelectorAll(ColorSwatchComponent.tagName)).map( (element) => {\n      return element.hexCode\n    })\n  }\n}\n", "import BaseCustomElement          from \"../brutaldom/BaseCustomElement\"\nimport PaletteColorScaleComponent from \"./PaletteColorScaleComponent\"\nimport ColorNameComponent         from \"./ColorNameComponent\"\nimport Color from \"../Color\"\n\nexport default class AddColorScaleButtonComponent extends BaseCustomElement {\n\n  static tagName = \"g-add-color-scale-button\"\n  static observedAttributes = [\n    \"link-algorithm\",\n    \"palette\",\n    \"show-warnings\",\n  ]\n\n  constructor() {\n    super()\n    this.addScaleClickListener = (event) => {\n      event.preventDefault()\n      this.addColorScales()\n    }\n  }\n\n  linkAlgorithmChangedCallback({newValue}) {\n    this.algorithmName = newValue\n  }\n\n  paletteChangedCallback({newValue}) {\n    this.paletteId = newValue\n  }\n\n  get palette() {\n    let palette\n    if (this.paletteId) {\n      palette = document.getElementById(this.paletteId)\n      if (!palette) {\n        if (this.isConnected) {\n          this.logger.warn(\"No element with id '%s' found in document\",this.paletteId)\n        }\n      }\n      else if (palette.tagName.toLowerCase() != \"g-palette\") {\n        this.logger.warn(\"Element with id '%s' is not a g-palette, but a %s\",this.paletteId,palette.tagName)\n      }\n    }\n    else {\n      const palettes = document.querySelectorAll(\"g-palette\")\n      if (palettes.length > 1) {\n        this.logger.warn(\"More than one g-palette found in document - behavior is not defined in this case\")\n      }\n      palette = palettes[0]\n    }\n    return palette\n  }\n\n  render() {\n    const buttons = this.querySelectorAll(\"button\")\n    if (buttons.length == 0)  {\n      this.logger.warn(\"No <button> elements found within - this won't do anythning\")\n    }\n    buttons.forEach( (button) => {\n      button.addEventListener(\"click\", this.addScaleClickListener)\n    })\n  }\n\n  static nameToAlgo = {\n    \"complement\": [ \"complement\" ],\n    \"split-complement\": [ \"split-complement-lower\", \"split-complement-upper\" ],\n    \"analogous\": [ \"analogous-lower\", \"analogous-upper\" ],\n    \"triad\": [ \"triad-lower\", \"triad-upper\" ],\n  }\n\n  addColorScales() {\n    if (!this.palette) {\n      return\n    }\n    if (this.algorithmName) {\n      const algos = this.constructor.nameToAlgo[this.algorithmName]\n      if (algos) {\n        algos.forEach( (algorithm) => {\n          this.palette.addScale({linkAlgorithm:algorithm})\n        })\n      }\n      else {\n        this.logger.warn(`No such algorithm ${this.algorithmName}`)\n      }\n    }\n    else {\n      this.palette.addScale({hexCode: Color.random().hexCode()})\n    }\n  }\n}\n", "import BaseCustomElement from \"../brutaldom/BaseCustomElement\"\n\nexport default class AttributeCheckboxComponent extends BaseCustomElement {\n\n  static tagName = \"g-attribute-checkbox\"\n  static observedAttributes = [\n    \"element\",\n    \"attribute-name\",\n    \"show-warnings\",\n  ]\n\n  constructor() {\n    super()\n    this.checkboxChangeListener = (event) => {\n      this._updateElement()\n    }\n  }\n\n  elementChangedCallback({newValue}) {\n    if (newValue) {\n      this.element = document.getElementById(newValue)\n      if (this.isConnected && !this.element) {\n        this.logger.warn(\"No such element in the document with id '%s'\",newValue)\n      }\n    }\n    else {\n      this.element = null\n      this.checkbox.removeEventListener(\"change\",this.checkboxChangeListener)\n    }\n  }\n\n  attributeNameChangedCallback({newValue}) {\n    this.attributeName = newValue\n  }\n\n  render() {\n    this.checkbox.addEventListener(\"change\",this.checkboxChangeListener)\n    this._updateElement()\n  }\n\n  _updateElement() {\n    if (this.element && this.attributeName) {\n      if (this.checkbox.checked) {\n        this.element.setAttribute(this.attributeName,true)\n      }\n      else {\n        this.element.removeAttribute(this.attributeName)\n      }\n    }\n\n  }\n\n  check() {\n    if (this.checkbox) {\n      this.checkbox.checked = true\n      this.render()\n    }\n  }\n  uncheck() {\n    if (this.checkbox) {\n      this.checkbox.checked = false\n      this.render()\n    }\n  }\n\n  get checkbox() {\n    const checkboxes = this.querySelectorAll(\"input[type=checkbox]\")\n    if (checkboxes.length == 0) {\n      this.logger.warn(\"No checkboxes found inside element\")\n      return\n    }\n    if (checkboxes.length > 1) {\n      this.logger.warn(\"More than one checkbox found - behavior is not defined\")\n    }\n    return checkboxes[0]\n  }\n\n  get checked() {\n    return this.checkbox && this.checkbox.checked\n  }\n\n}\n", "export default class ColorShades {\n  constructor(name,scale) {\n    if (!name)  { throw `name is required to create a ColorShades` }\n    if (!scale) { throw `scale is required to create a ColorShades` }\n    this.name  = name\n    this.scale = scale\n  }\n}\n", "export default class Generator {\n  constructor(colorShades) {\n    this.colorShades = colorShades\n  }\n\n  _eachColor({reverse,beforeGroup,afterGroup,onColor}) {\n\n    if (!beforeGroup) { beforeGroup = () => {} }\n    if (!afterGroup)  { afterGroup = () => {} }\n\n    if (!onColor) {\n      throw `onColor must be defined in _eachColor`\n    }\n    const namesUsed = {}\n    this.colorShades.forEach( (colorShades) => {\n      let name = colorShades.name.toString()\n      if (namesUsed[name]) {\n        namesUsed[name] = namesUsed[name] + 1\n        name = `${name}${namesUsed[name]}`\n      }\n      else {\n        namesUsed[name] = 1\n      }\n      beforeGroup(name)\n      let scale = colorShades.scale\n      if (reverse) {\n        scale = scale.reverse()\n      }\n      scale.forEach( (color,index,array) => {\n        onColor(name,color,index,array)\n      })\n      afterGroup(name)\n    })\n  }\n}\n", "import Generator from \"./Generator\"\nexport default class CSSGenerator extends Generator {\n  blob() {\n    const namesUsed = {}\n\n    const css = [\n      \"/*\",\n      window.location,\n      \" */\",\n      \"\",\n    ]\n    css.push(\":root {\")\n    css.push(\"\")\n    this._eachColor({\n      beforeGroup: () => css.push(\"\"),\n      onColor: (name,color,index,array) => {\n        css.push(this._variableName(name,color,index,array))\n      }\n    })\n    css.push(\"}\")\n    return new Blob([css.join(\"\\n\")],{ type: \"text/css\" })\n  }\n\n  _variableName(name,color,index,_array) {\n        return `  --${name.toLowerCase()}-${index+1}: ${color};`\n  }\n\n}\n", "import Generator from \"./Generator\"\nexport default class CSVGenerator extends Generator {\n  blob() {\n    const csv = [\n      [ \"Color Category\", \"Hex\" ].join(\",\"),\n    ]\n    this._eachColor({\n      onColor: (name,color,index) => {\n        csv.push([\n          name.toString().replaceAll(/['\\\",]/g,\"-\") + \"-\" + (index+1),\n          color,\n        ].join(\",\"))\n      }\n    })\n    return new Blob([csv.join(\"\\n\")],{ type: \"text/csv\" })\n  }\n}\n", "import Generator from \"./Generator\"\nexport default class MelangeConfigGenerator extends Generator {\n\n  blob() {\n    const js = []\n    this._eachColor({\n      beforeGroup: (name) => {\n        js.push(\"colorTints.register(\")\n        js.push(`  \"${name.toString().toLowerCase()}\",`)\n        js.push(\"  [\")\n      },\n      afterGroup: (name) => {\n        js.push(\"  ]\")\n        js.push(\")\")\n        js.push(\"\")\n      },\n      onColor: (name,color,index,array) => {\n        js.push(`    \"${color}\",`)\n      },\n      reverse: true,\n    })\n    return new Blob([js.join(\"\\n\")],{ type: \"text/plain\" })\n  }\n}\n", "import CSSGenerator from \"./CSSGenerator\"\nexport default class MelangeGenerator extends CSSGenerator {\n  static shadeNames = {\n    \"9\": [\n      \"-100\",\n      \"-200\",\n      \"-300\",\n      \"-400\",\n      \"-500\",\n      \"-600\",\n      \"-700\",\n      \"-800\",\n      \"-900\",\n    ],\n    \"7\": [\n      \"-100\",\n      \"-200\",\n      \"-300\",\n      \"-500\",\n      \"-700\",\n      \"-800\",\n      \"-900\",\n    ],\n    \"5\": [\n      \"-100\",\n      \"-300\",\n      \"-500\",\n      \"-700\",\n      \"-900\",\n    ],\n  }\n  static melanageRecognizedColors = [\n    \"red\",\n    \"blue\",\n    \"gray\",\n    \"green\",\n    \"orange\",\n    \"purple\",\n    \"red\",\n    \"yellow\",\n  ]\n\n  _variableName(name,color,index,array) {\n    const key = String(array.length)\n    const shadeNames = this.constructor.shadeNames[key]\n    if (!shadeNames) {\n      throw `MelangeCSSVariablesGenerator cannot work with ${array.length} shades. Must be 5, 7, or 9`\n    }\n    const shadeName = shadeNames[index]\n    const normalizedName = name.toLowerCase()\n    const recognized = this.constructor.melanageRecognizedColors.indexOf(normalizedName) != -1\n    return `${ recognized ? '' : \"  /* WARNING: this name is not recognized by Melange */\\n\"}  --mg-${normalizedName}${shadeName}: ${color};`\n  }\n}\n", "import Generator from \"./Generator\"\n\nexport default class TailwindGenerator extends Generator {\n\n  blob() {\n    const numShades = this.colorShades[0].scale.length\n    if ((numShades != 9) && (numShades != 7) && (numShades != 5)) {\n      throw `TailwindConfigurationGenerator is not compatible with ${numShades} shades. Must be 9, 7, or 5`\n    }\n    const js = [\n      `// ${window.location}`,\n      \"\",\n      \"colors: {\",\n      \"  transparent: 'transparent',\",\n      \"  current: 'currentColor',\",\n    ]\n    this._eachColor({\n      reverse: true,\n      beforeGroup: (name) => {\n        js.push(`  \"${name}\": {`)\n      },\n      onColor: (name,color,index,array) => {\n        if (index == 0) {\n          js.push(`    50: \"${color}\",`)\n          js.push(`    100: \"${color}\",`)\n          if (array.length < 9) {\n            js.push(`    200: \"${color}\",`)\n          }\n        }\n        else if (index == (array.length-1) ) {\n          if (array.length < 9) {\n            js.push(`    800: \"${color}\",`)\n          }\n          js.push(`    900: \"${color}\",`)\n          js.push(`    950: \"${color}\",`)\n        }\n        else {\n          if (array.length == 5) {\n            if (index == 1) {\n              js.push(`    300: \"${color}\",`)\n              js.push(`    400: \"${color}\",`)\n            }\n            else if (index == (array.length-2)) {\n              js.push(`    600: \"${color}\",`)\n              js.push(`    700: \"${color}\",`)\n            }\n            else {\n              js.push(`    500: \"${color}\",`)\n            }\n          }\n          else {\n            if (array.length < 9) {\n              js.push(`    ${index+2}00: \"${color}\",`)\n            }\n            else {\n              js.push(`    ${index+1}00: \"${color}\",`)\n            }\n          }\n        }\n      },\n      afterGroup: (name) => {\n        js.push(`  },`)\n      },\n    })\n    js.push(\"}\")\n    return new Blob([js.join(\"\\n\")],{ type: \"text/plain\" })\n  }\n}\n", "import BaseCustomElement      from \"../brutaldom/BaseCustomElement\"\nimport ColorShades            from \"../generators/ColorShades\"\nimport CSSGenerator           from \"../generators/CSSGenerator\"\nimport CSVGenerator           from \"../generators/CSVGenerator\"\nimport MelangeConfigGenerator from \"../generators/MelangeConfigGenerator\"\nimport MelangeGenerator       from \"../generators/MelangeGenerator\"\nimport TailwindGenerator      from \"../generators/TailwindGenerator\"\n\nexport default class DownloadPaletteComponent extends BaseCustomElement {\n\n  static tagName = \"g-download-palette\"\n  static observedAttributes = [\n    \"palette\",\n    \"generator\",\n    \"debug\",\n  ]\n\n  static generators = {\n    \"css\": CSSGenerator,\n    \"melange\": MelangeGenerator,\n    \"melange-config\": MelangeConfigGenerator,\n    \"tailwind\": TailwindGenerator,\n    \"csv\": CSVGenerator,\n  }\n\n  constructor() {\n    super()\n    this.linkClickListener = (event) => {\n      this._generate()\n    }\n  }\n\n  paletteChangedCallback({newValue}) {\n    if (newValue) {\n      this.palette = document.getElementById(newValue)\n      if (this.isConnected && !this.palette) {\n        this.logger.warn(\"No such element in the document with id '%s'\",newValue)\n      }\n    }\n    else {\n      this.palette = null\n      this.link.removeEventListener(\"click\",this.linkClickListener)\n    }\n  }\n\n  generatorChangedCallback({newValue}) {\n    if (newValue) {\n      this.generator = this.constructor.generators[newValue]\n      if (!this.generator) {\n        this.logger.warn(\"No such generator '%s'\",newValue)\n      }\n    }\n    else {\n      this.generator = null\n    }\n  }\n\n  render() {\n    this.link.addEventListener(\"click\",this.linkClickListener)\n  }\n  \n  _generate() {\n    if (this.palette && this.generator) {\n      const colorShades = Array.from(this.palette.querySelectorAll(\"g-palette-color-scale\")).map( (paletteColorScale) => {\n        return new ColorShades(\n          paletteColorScale.colorName,\n          paletteColorScale.colorScale\n        )\n      }).filter( (x) => !!x )\n\n      const blob = new this.generator(colorShades).blob()\n      const url = URL.createObjectURL(blob)\n      window.location = url\n    }\n  }\n\n  get link() {\n    const links = this.querySelectorAll(\"a\")\n    if (links.length == 0) {\n      this.logger.warn(\"No links found inside element\")\n      return\n    }\n    if (links.length > 1) {\n      this.logger.warn(\"More than one link found - behavior is not defined\")\n    }\n    return links[0]\n  }\n\n}\n", "class PrettifiedHTML {\n  constructor(string) {\n    this._string = String(string)\n    this.prettified = null\n  }\n\n  set string(newValue) {\n    this._string = newValue\n    this.prettified = null\n  }\n\n  get string() { return this._string }\n\n  toString() {\n    if (!this.prettified) {\n      const splitted = this._mergeAttributesWithElements(this.string)\n\n      this.prettified = this._addIndentation(splitted)\n    }\n    return this.prettified\n  }\n  /** Adapted from html-prettify npm module */\n  _mergeAttributesWithElements(markup) {\n    const splittedMarkup = markup.trim().replace(/(^(\\s|\\t)+|(( |\\t)+)$)/gm, \"\").split(\"\\n\")\n\n    const mergedLines = []\n    let currentElement = \"\"\n    for (let i = 0; i < splittedMarkup.length; i += 1) {\n      const line = splittedMarkup[i]\n\n      if (line.endsWith(\"/>\")) {\n        mergedLines.push(`${currentElement}${line.slice(0, -2)} />`)\n        currentElement = \"\"\n        continue\n      }\n\n      if (line.endsWith(\">\")) {\n        mergedLines.push(`${currentElement}${\n        line.startsWith(\">\") || line.startsWith(\"<\") ? \"\" : \" \"\n      }${line}`)\n        currentElement = \"\"\n        continue\n      }\n\n      currentElement += currentElement.length ? ` ${line}` : line\n    }\n\n    return mergedLines\n  }\n\n  /** Adapted from html-prettify npm module */\n  _addIndentation(splittedHtml) {\n    const char = \" \"\n    const count = 2\n\n    let level = 0\n    const opened = []\n\n    return splittedHtml.reverse().reduce((indented, elTag) => {\n      if (opened.length\n        && level\n        && opened[level]\n        && opened[level] === elTag.substring(1, opened[level].length + 1)\n      ) {\n        opened.splice(level, 1)\n        level--\n      }\n\n      const indentation = char.repeat(level ? level * count : 0)\n\n      const newIndented = [\n        `${indentation}${elTag}`,\n        ...indented,\n      ]\n\n      if (elTag.substring(0, 2) === \"</\") {\n        level++\n        opened[level] = elTag.substring(2, elTag.length - 1)\n      }\n\n      return newIndented\n    }, []).join(\"\\n\")\n  }\n}\n\nexport default class ElementSourceComponent extends HTMLElement {\n  static observedAttributes = [\n    \"element-id\",\n    \"element-sibling\",\n    \"html\",\n  ]\n\n  constructor() {\n    super()\n    this.htmlToShow = \"outer\"\n  }\n\n  connectedCallback() {\n    this.$code = this.querySelector(\"code\")\n    this.render()\n  }\n\n  attributeChangedCallback(name, oldValue, newValue) {\n    if (name == \"element-id\") {\n      this.element = document.getElementById(newValue)\n    }\n    else if (name == \"element-sibling\") {\n      this.element = this.parentElement.querySelector(newValue)\n    }\n    else if (name == \"html\") {\n      this.htmlToShow = newValue\n    }\n    this.render()\n  }\n\n  render() {\n    if (this.element && this.$code) {\n      this.$code.innerText = \n        new PrettifiedHTML(\n          this.htmlToShow == \"inner\" ? this.element.innerHTML : this.element.outerHTML\n        ).toString()\n    }\n  }\n\n  static tagName = \"g-element-source\"\n  static define() {\n    customElements.define(this.tagName, ElementSourceComponent)\n  }\n}\n\n", "import BaseCustomElement from \"../brutaldom/BaseCustomElement\"\n\nexport default class PreviewColorSelectionComponent extends BaseCustomElement {\n\n  static tagName = \"g-preview-color-selection\"\n  static observedAttributes = [\n    \"color-scale\",\n    \"show-warnings\",\n  ]\n\n  colorScaleChangedCallback({newValue}) {\n    let scale = (newValue || \"\").split(/,/)\n    if (scale == [\"\"]) {\n      scale = []\n    }\n    this.colorScale = scale\n  }\n\n  render() {\n    if (!this.colorScale) {\n      return\n    }\n    this.querySelectorAll(\"[data-background] g-color-swatch\").forEach( (element, index, array) => {\n      if ( (index == 0) || (index == (array.length - 1) ) ) {\n        return\n      }\n      const colorScaleIndex = index - 1\n      if (this.colorScale[colorScaleIndex]) {\n        element.setAttribute(\"hex-code\",this.colorScale[colorScaleIndex])\n      }\n    })\n    this.querySelectorAll(\"[data-text] g-color-swatch\").forEach( (element, index, array) => {\n      if ( (index == 0) || (index == (array.length - 1) ) ) {\n        return\n      }\n      const colorScaleIndex = index - 1\n      if (this.colorScale[colorScaleIndex]) {\n        element.setAttribute(\"hex-code\",this.colorScale[colorScaleIndex])\n      }\n    })\n    if (this.querySelectorAll(\"input[type=radio][name='text-color']:checked\").length == 0) {\n      const selector = `input[type=radio][name='text-color'][value='${this.colorScale[0]}']`\n      const defaultTextColor = this.querySelector(selector)\n      if (defaultTextColor) {\n        defaultTextColor.click()\n\n      }\n    }\n    if (this.querySelectorAll(\"input[type=radio][name='background-color']:checked\").length == 0) {\n      const selector = `input[type=radio][name='background-color'][value='${this.colorScale[this.colorScale.length - 1]}']`\n      const defaultBackgroundColor = this.querySelector(selector)\n      if (defaultBackgroundColor) {\n        defaultBackgroundColor.click()\n      }\n    }\n  }\n}\n", "import BaseCustomElement from \"../brutaldom/BaseCustomElement\"\n\nexport default class PreviewTextComponent extends BaseCustomElement {\n\n  static tagName = \"g-preview-text\"\n  static observedAttributes = [\n    \"background-color\",\n    \"text-color\",\n    \"show-warnings\",\n    \"form\",\n  ]\n\n  formChangedCallback({newValue}) {\n    this.formName = newValue\n  }\n\n  constructor() {\n    super()\n    this.formElementChangeListener = (event) => {\n      this._updateColors(event.target)\n    }\n  }\n\n  backgroundColorChangedCallback({newValue}) {\n    this.backgroundColor = newValue\n  }\n\n  textColorChangedCallback({newValue}) {\n    this.textColor = newValue\n  }\n\n  get form() {\n    if (!this.formName) {\n      return null\n    }\n    return document.querySelector(`form[name='${this.formName}']`)\n  }\n\n  render() {\n    if (this.form) {\n      Array.from(this.form.elements).forEach( (element) => {\n        element.addEventListener(\"change\",this.formElementChangeListener)\n      })\n    }\n    if (this.backgroundColor) {\n      this.style.backgroundColor = this.backgroundColor\n    }\n    else {\n      this.style.backgroundColor = \"transparent\"\n    }\n    if (this.textColor) {\n      this.style.color = this.textColor\n    }\n    else {\n      this.style.color = \"currentColor\"\n    }\n  }\n  _updateColors(formElement) {\n    if (formElement.name == \"text-color\") {\n      this.setAttribute(\"text-color\",formElement.value)\n    }\n    else if (formElement.name == \"background-color\") {\n      this.setAttribute(\"background-color\",formElement.value)\n      this.render()\n    }\n  }\n}\n", "import BaseCustomElement from \"../brutaldom/BaseCustomElement\"\n\nexport default class PreviewControlsComponent extends BaseCustomElement {\n\n  static tagName = \"g-preview-controls\"\n  static observedAttributes = [\n    \"background-color\",\n    \"text-color\",\n    \"color-scale\",\n    \"show-warnings\",\n    \"form\",\n  ]\n\n  formChangedCallback({newValue}) {\n    this.formName = newValue\n  }\n\n  constructor() {\n    super()\n    this.formElementChangeListener = (event) => {\n      this._updateColors(event.target)\n    }\n    this.colorScale = []\n  }\n\n  backgroundColorChangedCallback({newValue}) {\n    this.backgroundColor = newValue\n  }\n\n  textColorChangedCallback({newValue}) {\n    this.textColor = newValue\n  }\n  colorScaleChangedCallback({newValue}) {\n    if (newValue) {\n      this.colorScale = newValue.split(/,/)\n    }\n    else {\n      this.colorScale = []\n    }\n  }\n\n  get form() {\n    if (!this.formName) {\n      return null\n    }\n    return document.querySelector(`form[name='${this.formName}']`)\n  }\n\n  render() {\n    if (this.form) {\n      Array.from(this.form.elements).forEach( (element) => {\n        element.addEventListener(\"change\",this.formElementChangeListener)\n      })\n    }\n    this.querySelectorAll(\"div[data-container]\").forEach( (element) => element.parentElement.removeChild(element) )\n    const fieldset = this.querySelector(\"fieldset\")\n    if (!fieldset) {\n      this.logger.warn(\"no <fieldset> found, so cannot do any previewing\")\n      return\n    }\n    this.colorScale.forEach( (hexCode) => {\n      const container = document.createElement(\"div\")\n      container.classList.add(\"flex\",\"gap-2\",\"pa-2\")\n      container.dataset[\"container\"] = true\n      const newFieldSetContrast = fieldset.cloneNode(true)\n      newFieldSetContrast.style.display = \"flex\"\n\n      if (this.backgroundColor) {\n        newFieldSetContrast.style.backgroundColor = this.backgroundColor\n      }\n      else {\n        newFieldSetContrast.style.backgroundColor = \"transparent\"\n      }\n\n      newFieldSetContrast.querySelectorAll(\"button\").forEach( (button) => {\n        button.style.color = this.colorScale[0]\n        button.style.backgroundColor = this.colorScale[this.colorScale.length - 1]\n        button.style.borderColor = hexCode\n      })\n      newFieldSetContrast.querySelectorAll(\"input\").forEach( (input) => {\n        input.style.color = this.colorScale[0]\n        input.style.backgroundColor = this.colorScale[this.colorScale.length - 1]\n        input.style.borderColor = hexCode\n      })\n\n      const newFieldSetSelection = fieldset.cloneNode(true)\n      newFieldSetSelection.style.display = \"flex\"\n      newFieldSetSelection.dataset[\"added\"] = true\n\n      if (this.backgroundColor) {\n        newFieldSetSelection.style.backgroundColor = this.colorScale[this.colorScale.length - 1]\n      }\n      else {\n        newFieldSetSelection.style.backgroundColor = \"transparent\"\n      }\n\n      newFieldSetSelection.querySelectorAll(\"button\").forEach( (button) => {\n        button.style.color = this.textColor\n        button.style.backgroundColor = this.backgroundColor\n        button.style.borderColor = hexCode\n        button.textContent = hexCode\n      })\n      newFieldSetSelection.querySelectorAll(\"input\").forEach( (input) => {\n        input.style.color = this.textColor\n        input.style.backgroundColor = this.backgroundColor\n        input.style.borderColor = hexCode\n      })\n      container.appendChild(newFieldSetContrast)\n      container.appendChild(newFieldSetSelection)\n      fieldset.parentElement.appendChild(container)\n    })\n  }\n  _updateColors(formElement) {\n    if (formElement.name == \"text-color\") {\n      this.setAttribute(\"text-color\",formElement.value)\n    }\n    else if (formElement.name == \"background-color\") {\n      this.setAttribute(\"background-color\",formElement.value)\n      this.render()\n    }\n  }\n}\n", "import BaseCustomElement from \"../brutaldom/BaseCustomElement\"\nimport PreviewColorSelectionComponent from \"./PreviewColorSelectionComponent\"\nimport PreviewTextComponent from \"./PreviewTextComponent\"\nimport PreviewControlsComponent from \"./PreviewControlsComponent\"\n\nexport default class PreviewComponent extends BaseCustomElement {\n\n  static tagName = \"g-preview\"\n  static observedAttributes = [\n    \"show-warnings\",\n  ]\n\n  constructor() {\n    super()\n    this.colorScale = []\n  }\n\n  set colorScale(scale) {\n    this._colorScale = scale\n    this.render()\n  }\n\n  get colorScale() {\n    return this._colorScale || []\n  }\n\n  render() {\n    this.querySelectorAll(PreviewColorSelectionComponent.tagName).forEach( (element) => {\n      element.setAttribute(\"color-scale\",this.colorScale.join(\",\"))\n    })\n    this.querySelectorAll(PreviewTextComponent.tagName).forEach( (element) => {\n      element.setAttribute(\"background-color\", this.colorScale[this.colorScale.length - 1])\n      element.setAttribute(\"text-color\", this.colorScale[0])\n    })\n    this.querySelectorAll(PreviewControlsComponent.tagName).forEach( (element) => {\n      element.setAttribute(\"background-color\", this.colorScale[this.colorScale.length - 1])\n      element.setAttribute(\"text-color\", this.colorScale[0])\n      element.setAttribute(\"color-scale\",this.colorScale.join(\",\"))\n    })\n  }\n}\n", "export default class Palette {\n\n  constructor(primaryColor,otherColors,compact) {\n    this.primaryColor = primaryColor\n    this.otherColors = otherColors || []\n    this.compact = !!compact\n  }\n\n  withPrimaryColor(f) {\n    if (this.primaryColor) {\n      this.primaryColor.whenHexCode(f)\n    }\n  }\n  whenPrimaryNameUserOverride(f) {\n    if (this.primaryColor) {\n      this.primaryColor.whenNameUserOverride(f)\n    }\n  }\n  whenPrimaryNameDefault(f) {\n    if (this.primaryColor) {\n      this.primaryColor.whenNameDefault(f)\n    }\n  }\n}\n", "export default class PaletteEntry {\n  constructor({hexCode,userSuppliedName,algorithm}) {\n    if (hexCode && algorithm) {\n      throw `You may not provide both hexCode and algorithm`\n    }\n    else if (!hexCode && !algorithm) {\n      throw `You must provide hexCode or algorithm`\n    }\n    this.hexCode = hexCode\n    this.userSuppliedName = userSuppliedName\n    this.algorithm = algorithm\n  }\n\n  get colorNameUserOverride() {\n    return !!this.userSuppliedName\n  }\n  whenHexCode(f) {\n    if (this.hexCode) {\n      f(this.hexCode)\n    }\n  }\n  whenAlgorithm(f) {\n    if (this.algorithm) {\n      f(this.algorithm)\n    }\n  }\n  whenNameUserOverride(f) {\n    if (this.colorNameUserOverride) {\n      f(this.userSuppliedName)\n    }\n  }\n  whenNameDefault(f) {\n    if (!this.colorNameUserOverride) {\n      f()\n    }\n  }\n}\n", "import Palette from \"./Palette\"\nimport PaletteEntry from \"./PaletteEntry\"\nimport Color from \"./Color\"\n\nexport default class SaveableState {\n  start() {\n    this.pushState(window.location.toString(), { setURL: false })\n  }\n\n  savePalette(palette) {\n    const url = new URL(window.location);\n    const urlNow = url.toString()\n    if (palette.primaryColor) {\n      url.searchParams.set(\n        \"primaryColor\",\n        palette.primaryColor.userSuppliedName ? \n        `${palette.primaryColor.hexCode}:${palette.primaryColor.userSuppliedName}` : palette.primaryColor.hexCode\n      )\n    }\n    const otherColorsValue = palette.otherColors.map( (otherColor) => {\n      let value = otherColor.hexCode || otherColor.algorithm\n      if (otherColor.userSuppliedName) {\n        value = value + \":\" + otherColor.userSuppliedName\n      }\n      return value\n    }).join(\",\")\n    url.searchParams.set(\"otherColors\",otherColorsValue)\n    url.searchParams.set(\"compact\",String(!!palette.compact))\n\n    if (urlNow != url.toString()) {\n      this.pushState(url.toString(),{ setURL: true })\n    }\n  }\n\n  loadPalette() {\n    const url = new URL(window.location)\n    const primaryColorValue = url.searchParams.get(\"primaryColor\")\n\n    if (primaryColorValue) {\n\n      const compact = url.searchParams.get(\"compact\") == \"true\"\n      const otherColorsValue = url.searchParams.get(\"otherColors\")\n\n      const [hex,userSuppliedName] = primaryColorValue.split(/:/)\n      const color = Color.fromHexCode(hex)\n      let otherColors = []\n      const primaryColor = new PaletteEntry({\n        hexCode: color.hexCode(),\n        userSuppliedName: userSuppliedName,\n      })\n\n      otherColorsValue && otherColorsValue.split(/,/).forEach( (colorAndName) => {\n        const [hexOrAlgorithm,userSuppliedName] = colorAndName.split(/:/)\n        const color = Color.fromHexCode(hexOrAlgorithm, { onError: \"return\" })\n        if (color) {\n          otherColors.push(\n            new PaletteEntry({\n              hexCode: color.hexCode(),\n              userSuppliedName: userSuppliedName,\n            })\n          )\n        }\n        else {\n          otherColors.push(\n            new PaletteEntry({\n              algorithm: hexOrAlgorithm,\n              userSuppliedName: userSuppliedName,\n            })\n          )\n        }\n      })\n      return new Palette(primaryColor,otherColors,compact)\n    }\n    else {\n      return new Palette()\n    }\n  }\n\n  pushState(url, { setURL }) {\n    const state = { url: url }\n    history.pushState(\n      state,\n      \"\",\n      setURL ? url : null\n    )\n  }\n}\n", "import Palette from \"./Palette\"\n\nexport default class UnsaveableState {\n  start() { }\n  savePalette(palette) {\n    this.palette = palette\n  }\n  loadPalette() {\n    return this.palette || new Palette()\n  }\n}\n", "import BaseCustomElement          from \"../brutaldom/BaseCustomElement\"\nimport PaletteColorScaleComponent from \"./PaletteColorScaleComponent\"\nimport ColorNameComponent         from \"./ColorNameComponent\"\nimport PreviewComponent           from \"./PreviewComponent\"\nimport SaveableState from \"../SaveableState\"\nimport UnsaveableState from \"../UnsaveableState\"\n\nexport default class PaletteComponent extends BaseCustomElement {\n\n  static tagName = \"g-palette\"\n  static observedAttributes = [\n    \"show-warnings\",\n    \"save-state\",\n  ]\n\n  saveStateChangedCallback({newValue}) {\n    if (newValue || newValue === \"\") {\n      this._saveableState = new SaveableState()\n    }\n    else {\n      this._saveableState = new UnsaveableState()\n    }\n  }\n\n  get saveableState() {\n    return this._saveableState\n  }\n\n  constructor() {\n    super()\n    this._saveableState = new UnsaveableState()\n    this.colorChangeEventListener = (event) => {\n      this.dispatchEvent(new CustomEvent(\"palette-change\", { cancelable: false, bubbles: true }))\n    }\n    this.previewScaleEventListener = (event) => {\n      const dialog = document.getElementById(\"preview-dialog\")\n      const preview = dialog.querySelector(\"g-preview\")\n      if (preview && (preview instanceof PreviewComponent)) {\n        preview.colorScale = event.detail.colorScale\n      }\n      else {\n        console.warn(\"Expected the dialog to have a g-preview inside, but found %o\",preview)\n      }\n      dialog.querySelectorAll(\"button[data-close]\").forEach( (button) => {\n        button.addEventListener(\"click\", (event) => {\n          event.preventDefault()\n          dialog.close()\n        })\n      })\n      dialog.showModal()\n    }\n  }\n\n\n  render() {\n    this.querySelectorAll(PaletteColorScaleComponent.tagName).forEach( (colorScale) => {\n      this._addScaleEventListeners(colorScale)\n    })\n\n  }\n\n  get primaryColor() {\n    const primary = this.primaryColorScale\n    if (!primary) {\n      return {}\n    }\n    return {\n      hexCode: primary.baseColorSwatch.hexCode,\n      colorName: primary.colorName,\n      colorNameUserOverride: primary.colorNameUserOverride,\n    }\n\n  }\n\n  get otherColors() {\n    const otherColors = []\n    this.querySelectorAll(PaletteColorScaleComponent.tagName).forEach( (element) => {\n      if (element.isPrimary) {\n        return\n      }\n      if (element.linkedPrimaryAlgorithm) {\n        otherColors.push({\n          algorithm: element.linkedPrimaryAlgorithm,\n          colorName: element.colorName,\n          colorNameUserOverride: element.colorNameUserOverride,\n        })\n      }\n      else {\n        otherColors.push({\n          hexCode: element.baseColorSwatch.hexCode,\n          colorName: element.colorName,\n          colorNameUserOverride: element.colorNameUserOverride,\n        })\n      }\n    })\n    return otherColors\n  }\n\n  get primaryColorScale() {\n    return this.querySelector(PaletteColorScaleComponent.tagName + \"[primary]\")\n  }\n\n  addScale({linkAlgorithm=null,hexCode=null}={}) {\n    const primary = this.primaryColorScale\n    if (!primary) {\n      this.logger.warn(\"Palette has no primary color scale, so there is no reference to duplicate when adding a new scale\")\n      return\n    }\n\n    if (linkAlgorithm && this.querySelector(PaletteColorScaleComponent.tagName + `[linked-to-primary='${linkAlgorithm}']`)) {\n      return\n    }\n    const newScale = primary.cloneNode(true)\n    newScale.removeAttribute(\"primary\")\n    newScale.baseColorSwatch.removeAttribute(\"id\") // force the scale to generate one\n    newScale.baseColorSwatch.removeAttribute(\"default-link-context\")\n    if (linkAlgorithm) {\n      newScale.baseColorSwatch.querySelectorAll(\"input[type=color]\").forEach( (input) => {\n        input.setAttribute(\"disabled\",true)\n      })\n    }\n    newScale.swatches.forEach( (swatch) => swatch.removeAttribute(\"derived-from\") )\n\n    this.appendChild(newScale)\n\n    if (linkAlgorithm) {\n      newScale.baseColorSwatch.removeAttribute(\"hex-code\")\n      newScale.setAttribute(\"linked-to-primary\",linkAlgorithm)\n    }\n    else {\n      if (hexCode) {\n        newScale.baseColorSwatch.setAttribute(\"hex-code\", hexCode)\n      }\n      else {\n        newScale.baseColorSwatch.setAttribute(\"hex-code\", Color.random().hexCode())\n      }\n    }\n\n    newScale.querySelectorAll(ColorNameComponent.tagName).forEach( (colorName) => {\n      if (colorName.getAttribute(\"color-swatch\") == primary.baseColorSwatch.id) {\n        colorName.setAttribute(\"color-swatch\",newScale.baseColorSwatch.id)\n        colorName.restoreDefaultColorName()\n      }\n    })\n    this.dispatchEvent(new CustomEvent(\"palette-change\",{ cancelable: false, bubbles: true }))\n    this._addScaleEventListeners(newScale)\n    return newScale\n  }\n\n  _addScaleEventListeners(scale) {\n    scale.addEventListener(\"base-color-changed\", this.colorChangeEventListener)\n    scale.addEventListener(\"unlink-from-primary\", this.colorChangeEventListener)\n    scale.addEventListener(\"remove-scale\", this.colorChangeEventListener)\n    scale.addEventListener(\"name-change\", this.colorChangeEventListener)\n    scale.addEventListener(\"name-cleared\", this.colorChangeEventListener)\n    scale.addEventListener(\"preview-scale\", this.previewScaleEventListener)\n  }\n\n}\n", "import BaseCustomElement from \"../brutaldom/BaseCustomElement\"\nimport Color from \"../Color\"\n\nexport default class PreviewColorsContrastComponent extends BaseCustomElement {\n\n  static tagName = \"g-preview-colors-contrast\"\n  static observedAttributes = [\n    \"show-warnings\",\n    \"background-color\",\n    \"text-color\",\n    \"form\",\n  ]\n\n  formChangedCallback({newValue}) {\n    this.formName = newValue\n  }\n\n  backgroundColorChangedCallback({newValue}) {\n    this.backgroundColor = newValue ? new Color(newValue) : null\n  }\n\n  textColorChangedCallback({newValue}) {\n    this.textColor = newValue ? new Color(newValue) : null\n  }\n\n  constructor() {\n    super()\n    this.formElementChangeListener = (event) => {\n      this._updateColors(event.target)\n    }\n  }\n\n  get form() {\n    if (!this.formName) {\n      return null\n    }\n    return document.querySelector(`form[name='${this.formName}']`)\n  }\n\n  render() {\n    if (!this.form) {\n      return\n    }\n    Array.from(this.form.elements).forEach( (element) => {\n      element.addEventListener(\"change\",this.formElementChangeListener)\n    })\n    if (this.textColor && this.backgroundColor) {\n      const contrast = Math.floor(this.textColor.contrast(this.backgroundColor) * 100) / 100\n      this.querySelectorAll(\"[data-ratio]\").forEach( (element) => {\n        element.textContent = contrast\n      })\n      this.querySelectorAll(\"[data-enhanced]\").forEach( (element) => {\n        if ( contrast >= 7.1 ) {\n          element.style.display = \"inline\"\n        }\n        else {\n          element.style.display = \"none\"\n        }\n      })\n      this.querySelectorAll(\"[data-minimum]\").forEach( (element) => {\n        if ( (contrast >= 4.5) && (contrast < 7.1) ) {\n          element.style.display = \"inline\"\n        }\n        else {\n          element.style.display = \"none\"\n        }\n      })\n      this.querySelectorAll(\"[data-insufficient]\").forEach( (element) => {\n        if ( contrast < 4.5 ) {\n          element.style.display = \"inline\"\n        }\n        else {\n          element.style.display = \"none\"\n        }\n      })\n    }\n  }\n  _updateColors(formElement) {\n    if (formElement.name == \"text-color\") {\n      this.setAttribute(\"text-color\",formElement.value)\n    }\n    else if (formElement.name == \"background-color\") {\n      this.setAttribute(\"background-color\",formElement.value)\n      this.render()\n    }\n  }\n}\n", "import PaletteEntry from \"./PaletteEntry\"\nimport AttributeCheckboxComponent   from \"./components/AttributeCheckboxComponent\"\nimport PaletteColorScaleComponent   from \"./components/PaletteColorScaleComponent\"\n\nconst throttle = function(f, delayMS) {\n  let timerFlag = null\n\n  return (...args) => {\n    if (timerFlag === null) {\n      f(...args)\n      timerFlag = setTimeout(() => {\n        timerFlag = null\n      }, delayMS)\n    }\n  };\n}\n\nexport default class PaletteUI {\n  constructor(saveableState) {\n    this.saveableState = saveableState\n\n    if (!this.saveableState) {\n      throw \"PushState is required\"\n    }\n\n    this.palette = this.saveableState.loadPalette()\n    this.throttledSavePalette = throttle(this.saveableState.savePalette.bind(this.saveableState),500)\n  }\n\n  build() {\n    const paletteComponent = document.querySelector(\"g-palette\")\n    if (!paletteComponent) {\n      return\n    }\n    const url = new URL(window.location);\n    if (url.searchParams.get(\"compact\") == \"true\") {\n      document.querySelectorAll(`${AttributeCheckboxComponent.tagName}[attribute-name='compact']`).forEach( (checkbox) => {\n        checkbox.check()\n      })\n    }\n    document.querySelectorAll(`${AttributeCheckboxComponent.tagName}[attribute-name='compact']`).forEach( (checkbox) => {\n      if (this.palette.compact) {\n        checkbox.check()\n      }\n      else {\n        checkbox.uncheck()\n      }\n    })\n    document.querySelectorAll(`${PaletteColorScaleComponent.tagName}[primary]`).forEach( (element) => {\n      this.palette.withPrimaryColor( (hexCode) => element.baseColorSwatch.setAttribute(\"hex-code\",hexCode) )\n      this.palette.whenPrimaryNameUserOverride( (name) => element.overrideColorName(name) )\n      this.palette.whenPrimaryNameDefault( () => element.restoreDefaultColorName() )\n    })\n    this.palette.otherColors.forEach( (otherColor) => {\n      let newScale = null\n      otherColor.whenHexCode( (hexCode) => {\n        newScale = paletteComponent.addScale({ hexCode: hexCode })\n      })\n      otherColor.whenAlgorithm( (algorithm) => {\n        newScale = paletteComponent.addScale({ linkAlgorithm: otherColor.algorithm })\n      })\n      if (newScale) {\n        otherColor.whenNameUserOverride( (name) => newScale.overrideColorName(name) )\n        otherColor.whenNameDefault( () => newScale.restoreDefaultColorName(name) )\n      }\n    })\n    paletteComponent.addEventListener(\"palette-change\", () => {\n      this.extractPalette()\n      this.throttledSavePalette(this.palette)\n    })\n    document.querySelectorAll(`${AttributeCheckboxComponent.tagName}[attribute-name='compact']`).forEach( (checkbox) => {\n      checkbox.addEventListener(\"change\",() => {\n        this.palette.compact = checkbox.checked\n        this.throttledSavePalette(this.palette)\n      })\n    })\n  }\n\n\n  extractPalette() {\n    const paletteComponent = document.querySelector(\"g-palette\")\n    if (!paletteComponent) {\n      return\n    }\n    if (paletteComponent.primaryColor) {\n      this.palette.primaryColor = new PaletteEntry({\n        hexCode: paletteComponent.primaryColor.hexCode,\n        userSuppliedName: paletteComponent.primaryColor.colorNameUserOverride ? paletteComponent.primaryColor.colorName : null\n      })\n      const otherColors = paletteComponent.otherColors.map( (other) => {\n        const userSuppliedName = other.colorNameUserOverride ? other.colorName : null\n        if (other.hexCode) {\n          return new PaletteEntry({ hexCode: other.hexCode, userSuppliedName: userSuppliedName })\n        }\n        else {\n          return new PaletteEntry({ algorithm: other.algorithm, userSuppliedName: userSuppliedName })\n        }\n      })\n      this.palette.otherColors = otherColors\n      this.palette.compact = !!paletteComponent.getAttribute(\"compact\")\n    }\n  }\n}\n", "import AddColorScaleButtonComponent   from \"./components/AddColorScaleButtonComponent\"\nimport AttributeCheckboxComponent     from \"./components/AttributeCheckboxComponent\"\nimport ColorNameComponent             from \"./components/ColorNameComponent\"\nimport ColorSwatchComponent           from \"./components/ColorSwatchComponent\"\nimport DownloadPaletteComponent       from \"./components/DownloadPaletteComponent\"\nimport ElementSourceComponent         from \"./brutaldom/components/ElementSourceComponent\"\nimport PaletteColorScaleComponent     from \"./components/PaletteColorScaleComponent\"\nimport PaletteComponent               from \"./components/PaletteComponent\"\nimport PreviewColorsContrastComponent from \"./components/PreviewColorsContrastComponent\"\nimport PreviewColorSelectionComponent from \"./components/PreviewColorSelectionComponent\"\nimport PreviewComponent               from \"./components/PreviewComponent\"\nimport PreviewTextComponent           from \"./components/PreviewTextComponent\"\nimport PreviewControlsComponent       from \"./components/PreviewControlsComponent\"\n\nimport PaletteUI from \"./PaletteUI\"\n\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n  AddColorScaleButtonComponent.define()\n  AttributeCheckboxComponent.define()\n  ColorNameComponent.define()\n  ColorSwatchComponent.define()\n  DownloadPaletteComponent.define()\n  ElementSourceComponent.define()\n  PaletteColorScaleComponent.define()\n  PaletteComponent.define()\n  PreviewComponent.define()\n  PreviewColorsContrastComponent.define()\n  PreviewTextComponent.define()\n  PreviewControlsComponent.define()\n  PreviewColorSelectionComponent.define()\n\n  const paletteComponent = document.querySelector(PaletteComponent.tagName)\n  if (paletteComponent) {\n    const saveableState = paletteComponent.saveableState\n    saveableState.start()\n    const paletteUI = new PaletteUI(saveableState)\n    paletteUI.build()\n\n    window.addEventListener(\"popstate\", (event) => {\n      if (event.state && event.state.url) {\n        window.location = event.state.url\n      }\n    })\n  }\n})\n"],
  "mappings": "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",
  "names": ["require_color_name", "__commonJSMin", "exports", "module", "require_conversions", "__commonJSMin", "exports", "module", "cssKeywords", "reverseKeywords", "key", "convert", "model", "channels", "labels", "rgb", "r", "g", "b", "min", "max", "delta", "h", "s", "l", "rdif", "gdif", "bdif", "v", "diff", "diffc", "__name", "c", "w", "k", "m", "y", "comparativeDistance", "x", "reversed", "currentClosestDistance", "currentClosestKeyword", "keyword", "value", "distance", "z", "xyz", "a", "hsl", "t2", "t3", "val", "t1", "i", "smin", "lmin", "sv", "hsv", "hi", "f", "p", "q", "t", "vmin", "sl", "hwb", "wh", "bl", "ratio", "n", "cmyk", "lab", "y2", "x2", "z2", "lch", "hr", "args", "saturation", "ansi", "color", "mult", "rem", "string", "match", "colorString", "char", "integer", "chroma", "grayscale", "hue", "hcg", "pure", "mg", "apple", "gray", "require_route", "__commonJSMin", "exports", "module", "conversions", "buildGraph", "graph", "models", "len", "i", "__name", "deriveBFS", "fromModel", "queue", "current", "adjacents", "adjacent", "node", "link", "from", "to", "args", "wrapConversion", "toModel", "path", "fn", "cur", "conversion", "require_color_convert", "__commonJSMin", "exports", "module", "conversions", "route", "convert", "models", "wrapRaw", "fn", "wrappedFn", "__name", "args", "arg0", "wrapRounded", "result", "len", "fromModel", "routes", "toModel", "Logger", "__name", "stringOrFalse", "PrefixedLogger", "BufferedLogger", "args", "prefixOrTrue", "bufferedLogger", "level", "message", "Logger_default", "RichString", "_RichString", "__name", "possiblyDefinedStringOrRichString", "string", "_", "x", "spacer", "replacement", "decamelized", "BaseCustomElement", "__name", "Logger_default", "oldValue", "newValue", "oldLogger", "prefix", "name", "callbackName", "RichString", "import_color_convert", "NotValidHexCode", "__name", "hexCodeValue", "Color", "_Color", "__name", "hexCode", "onError", "e", "h", "s", "l", "colorConvert", "r", "g", "b", "hexCodeAsString", "matches", "NotValidHexCode", "_matches", "_hash", "r8Bit", "g8Bit", "b8Bit", "rsRGB", "gsRGB", "bsRGB", "otherColor", "l1", "l2", "swap", "Color_default", "ColorNameComponent", "BaseCustomElement", "__name", "event", "value", "newValue", "component", "inputs", "input", "newName", "hexCode", "hue", "saturation", "l", "Color_default", "nameEntry", "name", "low", "high", "BaseDerivation", "__name", "hexCode", "Color_default", "h", "s", "l", "BrightnessDerivation", "BaseDerivation", "__name", "hexCode", "options", "darken", "h", "s", "l", "distance", "percent", "decrease", "newL", "brighten", "increase", "ComplementaryDerivation", "BaseDerivation", "__name", "hexCode", "options", "h", "s", "l", "newH", "AnalogousUpperDerivation", "BaseDerivation", "__name", "hexCode", "options", "h", "s", "l", "newH", "AnalogousLowerDerivation", "SplitComplementaryUpperDerivation", "BaseDerivation", "__name", "ComplementaryDerivation", "AnalogousUpperDerivation", "hexCode", "options", "SplitComplementaryLowerDerivation", "AnalogousLowerDerivation", "TriadUpperDerivation", "BaseDerivation", "__name", "hexCode", "options", "h", "s", "l", "newH", "TriadLowerDerivation", "DerivationAlgorithm", "_DerivationAlgorithm", "__name", "string", "throwOnUnknown", "BrightnessDerivation", "ComplementaryDerivation", "SplitComplementaryLowerDerivation", "SplitComplementaryUpperDerivation", "AnalogousLowerDerivation", "AnalogousUpperDerivation", "TriadLowerDerivation", "TriadUpperDerivation", "ColorSwatchComponent", "BaseCustomElement", "__name", "event", "DerivationAlgorithm", "newValue", "f", "elements", "label", "input", "code", "hexCode", "numInputs", "element", "codeElement", "darken", "brighten", "whenHexCodeExists", "derivedFromElement", "hexCodeExists", "BaseGradient", "__name", "LinearGradient", "BaseGradient", "__name", "index", "numSwatches", "middle", "step", "totalSteps", "min", "max", "percentAlongRange", "ExponentialGradient", "BaseGradient", "__name", "index", "numSwatches", "middle", "step", "adjustedMiddle", "percentAlongRange", "percentage", "x", "NoGradient", "BaseGradient", "__name", "ColorScale", "__name", "string", "LinearGradient", "ExponentialGradient", "NoGradient", "SpecialButtons", "__name", "parentElement", "selector", "clickListener", "f", "name", "detail", "PreviewButtons", "UnlinkButtons", "input", "RemoveButtons", "PaletteColorComponent", "BaseCustomElement", "event", "newValue", "ColorSwatchComponent", "middle", "id", "algorithm", "ColorScale", "swatch", "index", "array", "attribute", "value", "colorName", "ColorNameComponent", "newName", "element", "AddColorScaleButtonComponent", "BaseCustomElement", "__name", "event", "newValue", "palette", "palettes", "buttons", "button", "algos", "algorithm", "Color_default", "AttributeCheckboxComponent", "BaseCustomElement", "__name", "event", "newValue", "checkboxes", "ColorShades", "__name", "name", "scale", "Generator", "__name", "colorShades", "reverse", "beforeGroup", "afterGroup", "onColor", "namesUsed", "name", "scale", "color", "index", "array", "CSSGenerator", "Generator", "__name", "namesUsed", "css", "name", "color", "index", "array", "_array", "CSVGenerator", "Generator", "__name", "csv", "name", "color", "index", "MelangeConfigGenerator", "Generator", "__name", "js", "name", "color", "index", "array", "MelangeGenerator", "CSSGenerator", "__name", "name", "color", "index", "array", "key", "shadeNames", "shadeName", "normalizedName", "TailwindGenerator", "Generator", "__name", "numShades", "js", "name", "color", "index", "array", "DownloadPaletteComponent", "BaseCustomElement", "__name", "CSSGenerator", "MelangeGenerator", "MelangeConfigGenerator", "TailwindGenerator", "CSVGenerator", "event", "newValue", "colorShades", "paletteColorScale", "ColorShades", "x", "blob", "url", "links", "PrettifiedHTML", "__name", "string", "newValue", "splitted", "markup", "splittedMarkup", "mergedLines", "currentElement", "i", "line", "splittedHtml", "char", "level", "opened", "indented", "elTag", "newIndented", "ElementSourceComponent", "_ElementSourceComponent", "name", "oldValue", "PreviewColorSelectionComponent", "BaseCustomElement", "__name", "newValue", "scale", "element", "index", "array", "colorScaleIndex", "selector", "defaultTextColor", "defaultBackgroundColor", "PreviewTextComponent", "BaseCustomElement", "__name", "newValue", "event", "element", "formElement", "PreviewControlsComponent", "BaseCustomElement", "__name", "newValue", "event", "element", "fieldset", "hexCode", "container", "newFieldSetContrast", "button", "input", "newFieldSetSelection", "formElement", "PreviewComponent", "BaseCustomElement", "__name", "scale", "PreviewColorSelectionComponent", "element", "PreviewTextComponent", "PreviewControlsComponent", "Palette", "__name", "primaryColor", "otherColors", "compact", "f", "PaletteEntry", "__name", "hexCode", "userSuppliedName", "algorithm", "f", "SaveableState", "__name", "palette", "url", "urlNow", "otherColorsValue", "otherColor", "value", "primaryColorValue", "compact", "hex", "userSuppliedName", "color", "Color_default", "otherColors", "primaryColor", "PaletteEntry", "colorAndName", "hexOrAlgorithm", "Palette", "setURL", "state", "UnsaveableState", "__name", "palette", "Palette", "PaletteComponent", "BaseCustomElement", "__name", "newValue", "SaveableState", "UnsaveableState", "event", "dialog", "preview", "PreviewComponent", "button", "PaletteColorComponent", "colorScale", "primary", "otherColors", "element", "linkAlgorithm", "hexCode", "newScale", "input", "swatch", "ColorNameComponent", "colorName", "scale", "PreviewColorsContrastComponent", "BaseCustomElement", "__name", "newValue", "Color_default", "event", "element", "contrast", "formElement", "throttle", "__name", "f", "delayMS", "timerFlag", "args", "PaletteUI", "saveableState", "paletteComponent", "AttributeCheckboxComponent", "checkbox", "PaletteColorComponent", "element", "hexCode", "name", "otherColor", "newScale", "algorithm", "PaletteEntry", "otherColors", "other", "userSuppliedName", "AddColorScaleButtonComponent", "AttributeCheckboxComponent", "ColorNameComponent", "ColorSwatchComponent", "DownloadPaletteComponent", "ElementSourceComponent", "PaletteColorComponent", "PaletteComponent", "PreviewComponent", "PreviewColorsContrastComponent", "PreviewTextComponent", "PreviewControlsComponent", "PreviewColorSelectionComponent", "paletteComponent", "saveableState", "PaletteUI", "event"]
}
